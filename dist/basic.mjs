var _=Object.create;var O=Object.defineProperty;var X=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var z=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var q=(t,a,c,e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let s of F(a))!K.call(t,s)&&s!==c&&O(t,s,{get:()=>a[s],enumerable:!(e=X(a,s))||e.enumerable});return t};var Q=(t,a,c)=>(c=t!=null?_(V(t)):{},q(a||!t||!t.__esModule?O(c,"default",{value:t,enumerable:!0}):c,t));var N=z((ze,T)=>{(function(){"use strict";let t={fatal:!0},a=[new TextDecoder("iso-8859-15",t),new TextDecoder("sjis",t),new TextDecoder("euc-jp",t),new TextDecoder("utf-8",t),new TextDecoder("utf-16",t),new TextDecoder("ascii")],c={debug:!1,parse:function(e,s){if(e instanceof Uint8Array)return c.Uint8(e);if(typeof e=="string")return c.Base64(e);if(e instanceof HTMLElement&&e.type==="file")return c.addListener(e,s);throw new Error("MidiParser.parse() : Invalid input provided")},addListener:function(e,s){if(!File||!FileReader)throw new Error("The File|FileReader APIs are not supported in this browser. Use instead MidiParser.Base64() or MidiParser.Uint8()");if(e===void 0||!(e instanceof HTMLElement)||e.tagName!=="INPUT"||e.type.toLowerCase()!=="file")return console.warn("MidiParser.addListener() : Provided element is not a valid FILE INPUT element"),!1;s=s||function(){},e.addEventListener("change",function(r){if(!r.target.files.length)return!1;console.log("MidiParser.addListener() : File detected in INPUT ELEMENT processing data..");let o=new FileReader;o.readAsArrayBuffer(r.target.files[0]),o.onload=function(h){s(c.Uint8(new Uint8Array(h.target.result)))}})},Base64:function(e){let s=function(h){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(h=h.replace(/^.*?base64,/,""),h=String(h).replace(/[\t\n\f\r ]+/g,""),!/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/.test(h))throw new TypeError("Failed to execute _atob() : The string to be decoded is not correctly encoded.");h+="==".slice(2-(3&h.length));let u,p="",i,n,d=0;for(;d<h.length;)u=g.indexOf(h.charAt(d++))<<18|g.indexOf(h.charAt(d++))<<12|(i=g.indexOf(h.charAt(d++)))<<6|(n=g.indexOf(h.charAt(d++))),p+=i===64?String.fromCharCode(u>>16&255):n===64?String.fromCharCode(u>>16&255,u>>8&255):String.fromCharCode(u>>16&255,u>>8&255,255&u);return p}(e=String(e));var r=s.length;let o=new Uint8Array(new ArrayBuffer(r));for(let h=0;h<r;h++)o[h]=s.charCodeAt(h);return c.Uint8(o)},Uint8:function(o){let s={data:null,pointer:0,movePointer:function(i){return this.pointer+=i,this.pointer},readInt:function(i){if((i=Math.min(i,this.data.byteLength-this.pointer))<1)return-1;let n=0;if(1<i)for(let d=1;d<=i-1;d++)n+=this.data.getUint8(this.pointer)*Math.pow(256,i-d),this.pointer++;return n+=this.data.getUint8(this.pointer),this.pointer++,n},readStr:function(i){let n=new Uint8Array(i),d=!1,f;n.forEach((b,l)=>{n[l]=this.readInt(1)});for(let b=0;b<a.length;b++)if(!d)try{if(f=a[b].decode(n),b==0)for(let l=0;l<f.length;l++){let y=f.charCodeAt(l);if(y>191||y>127&&y<160)throw new RangeError(`Invalid code point: ${y}`)}d=!0,console.debug(`String byte sequence in ${a[b].encoding}`)}catch(l){console.debug(`SMF string ${l}`)}return f||"String byte sequence read failed."},backOne:function(){this.pointer--},readIntVLV:function(){let i=0;if(this.pointer>=this.data.byteLength)return-1;if(this.data.getUint8(this.pointer)<128)i=this.readInt(1);else{let d=[];for(;128<=this.data.getUint8(this.pointer);)d.push(this.readInt(1)-128);var n=this.readInt(1);for(let f=1;f<=d.length;f++)i+=d[d.length-f]*Math.pow(128,f);i+=n}return i}};if(s.data=new DataView(o.buffer,o.byteOffset,o.byteLength),s.readInt(4)!==1297377380)return console.warn("Header validation failed (not MIDI standard or file corrupt.)"),!1;s.readInt(4);let r={};r.formatType=s.readInt(2),r.tracks=s.readInt(2),r.track=[];var o=s.readInt(1),h=s.readInt(1);128<=o?(r.timeDivision=[],r.timeDivision[0]=o-128,r.timeDivision[1]=h):r.timeDivision=256*o+h;for(let i=1;i<=r.tracks;i++){r.track[i-1]={event:[]};var g,u=s.readInt(4);if(u===-1)break;if(u!==1297379947)return!1;s.readInt(4);let n=0,d=!1,f,b;for(;!d&&(n++,r.track[i-1].event[n-1]={},r.track[i-1].event[n-1].deltaTime=s.readIntVLV(),(f=s.readInt(1))!==-1);)if(128<=f?b=f:(f=b,s.movePointer(-1)),f===255){r.track[i-1].event[n-1].type=255,r.track[i-1].event[n-1].metaType=s.readInt(1);var p=s.readIntVLV();switch(r.track[i-1].event[n-1].metaType){case 47:case-1:d=!0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 6:r.track[i-1].event[n-1].data=s.readStr(p);break;case 33:case 89:case 81:r.track[i-1].event[n-1].data=s.readInt(p);break;case 84:r.track[i-1].event[n-1].data=[],r.track[i-1].event[n-1].data[0]=s.readInt(1),r.track[i-1].event[n-1].data[1]=s.readInt(1),r.track[i-1].event[n-1].data[2]=s.readInt(1),r.track[i-1].event[n-1].data[3]=s.readInt(1),r.track[i-1].event[n-1].data[4]=s.readInt(1);break;case 88:r.track[i-1].event[n-1].data=[],r.track[i-1].event[n-1].data[0]=s.readInt(1),r.track[i-1].event[n-1].data[1]=s.readInt(1),r.track[i-1].event[n-1].data[2]=s.readInt(1),r.track[i-1].event[n-1].data[3]=s.readInt(1);break;default:this.customInterpreter!==null&&(r.track[i-1].event[n-1].data=this.customInterpreter(r.track[i-1].event[n-1].metaType,s,p)),this.customInterpreter!==null&&r.track[i-1].event[n-1].data!==!1||(s.readInt(p),r.track[i-1].event[n-1].data=s.readInt(p),this.debug&&console.info("Unimplemented 0xFF meta event! data block readed as Integer"))}}else switch((f=f.toString(16).split(""))[1]||f.unshift("0"),r.track[i-1].event[n-1].type=parseInt(f[0],16),r.track[i-1].event[n-1].channel=parseInt(f[1],16),r.track[i-1].event[n-1].type){case 15:this.customInterpreter!==null&&(r.track[i-1].event[n-1].data=this.customInterpreter(r.track[i-1].event[n-1].type,s,!1)),this.customInterpreter!==null&&r.track[i-1].event[n-1].data!==!1||(g=s.readIntVLV(),r.track[i-1].event[n-1].data=s.readInt(g),this.debug&&console.info("Unimplemented 0xF exclusive events! data block readed as Integer"));break;case 10:case 11:case 14:case 8:case 9:r.track[i-1].event[n-1].data=[],r.track[i-1].event[n-1].data[0]=s.readInt(1),r.track[i-1].event[n-1].data[1]=s.readInt(1);break;case 12:case 13:r.track[i-1].event[n-1].data=s.readInt(1);break;case-1:d=!0;break;default:if(this.customInterpreter!==null&&(r.track[i-1].event[n-1].data=this.customInterpreter(r.track[i-1].event[n-1].metaType,s,!1)),this.customInterpreter===null||r.track[i-1].event[n-1].data===!1)return console.log("Unknown EVENT detected... reading cancelled!"),!1}}return r},customInterpreter:null};if(typeof T<"u")T.exports=c;else{let e=typeof window=="object"&&window.self===window&&window||typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global;e.MidiParser=c}})()});var k=class{#e={};addEventListener(t,a){this.#e[t]||(this.#e[t]=[]),this.#e[t].unshift(a)}removeEventListener(t,a){if(this.#e[t]){let c=this.#e[t].indexOf(a);c>-1&&this.#e[t].splice(c,1),this.#e[t].length<1&&delete this.#e[t]}}dispatchEvent(t,a){let c=new Event(t),e=this;c.data=a,this.#e[t]?.length>0&&this.#e[t].forEach(function(s){try{s?.call(e,c)}catch(r){console.error(r)}}),this[`on${t}`]&&this[`on${t}`](c)}};var I=class{#e={};context;set(t,a){this.#e[t]=a}has(t){return!!this.#e[t]}async read(t,a){if(!this.has(t))throw new Error(`No decoder registered for "${t}"`);return await this.#e[t].call(this.context||this,a)}};var j=function(t,a){let c=!0;return a.forEach((e,s)=>{c=c&&t[s]==e}),c},P=function(t){let a=0;return t.forEach(c=>{a*=256,a+=c}),a},$=new TextDecoder,U=new I;U.set("s7e",async function(t){let a=new Uint8Array(await t.slice(0,65536).arrayBuffer()),c="MSB	LSB	PRG	NME",e=[0,0,0,0],s=32,r=0,o=0,h=!0,g=[],u=0;for(;h;){let p=a.subarray(r);([()=>{$.decode(p.subarray(0,4))=="YSFC"?(r+=80,o=1):r++},()=>{if(j(p.subarray(0,4),e))g.forEach((i,n,d)=>{let f=P(a.subarray(i.start+4,i.start+8));i.length=f}),o=2;else{let i=$.decode(p.subarray(0,4)),n=P(p.subarray(4,8));g.push({type:i,start:n}),r+=8}},()=>{let i=g[u],n=a.subarray(i.start,i.start+i.length),d=32;switch(i.type){case"ENVC":{let f=s;for(;f<n.length;){let b=n.subarray(f,f+d),l=$.decode(b.subarray(0,10)).trimEnd();l.slice(0,5)=="Init "&&(l=""),l&&(c+=`
063	${(b[17]+13).toString().padStart(3,"0")}	${b[19].toString().padStart(3,"0")}	${l}`),f+=d}break}case"EDVC":{let f=s;for(;f<n.length;){let b=n.subarray(f,f+d),l=$.decode(b.subarray(0,10)).trimEnd();l.slice(0,5)=="Init "&&(l=""),l&&(c+=`
063	024	${b[19].toString().padStart(3,"0")}	${l}`),f+=d}break}case"EPVC":{let f=32,b=s;for(;b<n.length;){let l=n.subarray(b,b+f),y=$.decode(l.subarray(0,10)).trimEnd();y=="----------"&&(y=""),y&&(c+=`
063	${(l[17]+1).toString().padStart(3,"0")}	${l[19].toString().padStart(3,"0")}	${y}`),b+=f}break}}u++,u>=g.length&&(o=3,h=!1)}][o]||(()=>{h=!1}))()}return c});var Y=["off","hall","room","stage","plate","delay LCR","delay LR","echo","cross delay","early reflections","gate reverb","reverse gate"].concat(new Array(4),["white room","tunnel","canyon","basement","karaoke"],new Array(43),["pass through","chorus","celeste","flanger","symphonic","rotary speaker","tremelo","auto pan","phaser","distortion","overdrive","amplifier","3-band EQ","2-band EQ","auto wah"],new Array(1),["pitch change","harmonic","touch wah","compressor","noise gate","voice channel","2-way rotary speaker","ensemble detune","ambience"],new Array(4),["talking mod","Lo-Fi","dist + delay","comp + dist + delay","wah + dist + delay","V dist","dual rotor speaker"]);var W=",a,i,u,e,o,ka,ki,ku,ke,ko,ky,kw,sa,si,su,se,so,sh,ta,ti,tu,te,to,t,ch,t,s,na,ni,nu,ne,no,ny,nn,ha,hi,hu,he,ho,hy,fa,fi,fu,fe,fo,ma,mi,mu,me,mo,my,mm,ya,yu,ye,yo,ra,ri,ru,re,ro,ry,wa,wi,we,wo,ga,gi,gu,ge,go,gy,gw,za,zi,zu,ze,zo,ja,ji,ju,je,jo,jy,da,di,du,de,do,dy,ba,bi,bu,be,bo,by,va,vi,vu,ve,vo,pa,pi,pu,pe,po,py,nga,ngi,ngu,nge,ngo,ngy,ng,hha,hhi,hhu,hhe,hho,hhy,hhw,*,_,,,~,.".split(","),Z={};`hi*,
ka,か
ki,き
ku,く
ke,け
ko,こ
ky,き!
kw,くl
tsu,つ
ts,つl
sa,さ
si,すぃ
su,す
se,せ
so,そ
shi,し
sh,し!
ta,た
ti,てぃ
tu,とぅ
te,て
to,と
tchy,ち!
tchi,ち
na,な
ni,に
nu,ぬ
ne,ね
no,の
ny,に!
nn,ん
ha,は
hi,ひ
hu,ほぅ
he,へ
ho,ほ
hy,ひ!
fa,ふぁ
fi,ふぃ
fu,ふ
fe,ふぇ
fo,ふぉ
ma,ま
mi,み
mu,む
me,め
mo,も
my,み!
mm,
ra,ら
ri,り
ru,る
re,れ
ro,ろ
ry,り!
wa,わ
wi,うぃ
we,うぇ
wo,を
nga,ガ
ngi,ギ
ngu,グ
nge,ゲ
ngo,ゴ
ngy,ギ!
ng,
ga,が
gi,ぎ
gu,ぐ
ge,げ
go,ご
gy,ぎ!
gw,ぐl
za,ざ
zi,ずぃ
zu,ず
ze,ぜ
zo,ぞ
ja,じゃ
ji,じ
ju,じゅ
je,じぇ
jo,じょ
jy,じ!
da,だ
di,でぃ
du,どぅ
de,で
do,ど
dy,で!
ba,ば
bi,び
bu,ぶ
be,べ
bo,ぼ
by,び!
va,ゔぁ
vi,ゔぃ
vu,ゔ
ve,ゔぇ
vo,ゔぉ
pa,ぱ
pi,ぴ
pu,ぷ
pe,ペ
po,ぽ
py,ぴ!
!ya,ゃ
!yu,ゅ
!ye,ぇ
!yo,ょ
ya,や
yu,ゆ
ye,いぇ
yo,よ
!a,ゃ
!u,ゅ
!e,ぇ
!o,ょ
!a,ゃ
!u,ゅ
!e,ぇ
!o,ょ
la,ぁ
li,ぃ
lu,ぅ
le,ぇ
lo,ぉ
a,あ
i,い
u,う
e,え
o,お
*,っ
~,
^,
_,`.split(`
`).forEach(t=>{let a=t.split(",");Z[a[0]]=a[1]});var A=function(t,a,c){let e=[],s=c==!1?a.readIntVLV():c;t==0||t==127;for(let r=0;r<s;r++){let o=a.readInt(1);if(e.push(o),o!=247){if(o!=240){if(o>127)return console.debug(`Early termination: ${e}`),e.pop(),a.backOne(),a.backOne(),new Uint8Array(e)}}}return new Uint8Array(e)};var J=["?","gm","gs","xg","g2","mt32","ns5r","x5d","05rw","sd","k11","sg","krs","s90es","motif"];var S=[20,21,22,23,24,25,26,28,29,30,31,36,37,64,65],x=[0,1,2,4,5,6,7,8,10,11,32,38,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,84,91,92,93,94,95,98,99,100,101,128,12,13,16,17,18,19];var ee={};J.forEach((t,a)=>{ee[t]=a});var v={length:x.length};x.forEach((t,a)=>{v[t]=a});var L={length:S.length};S.forEach((t,a)=>{L[t]=a});var Ve={ch:128,cc:x.length,nn:128,pl:512,tr:256,cmt:14,rpn:6,ace:8,drm:8,dpn:S.length,dnc:128,efx:7};var R=Q(N(),1);var H=class{#e=!1;constructor(t,a,c,e){this.#e=t,this.start=a,this.end=c,this.data=e}get duration(){return this.ranged?this.end-this.start:0}get ranged(){return this.#e}},C=class extends H{constructor(t,a,c){super(!0,t,a,c)}},B=class extends H{constructor(t,a){super(!1,t,t,a)}},M=class extends Array{#e=-1;constructor(){super(...arguments)}resetIndex(t){this.#e=-1}fresh(){this.sort(function(t,a){return t.start==a.start?0:(+(t.start>a.start)<<1)-1}),this.forEach(function(t,a){t.index=a})}step(t,a=!1){let c=[];if(a)for(let e=0;e<this.length&&!(this[e].start>t);e++){if(this[e].end<t)continue;c.push(this[e])}else{let e=this.getRange(this.#e==-1?0:t-1,t),s=this;e.forEach(function(r){r.index>s.#e&&(c.push(r),s.#e=r.index)})}return c}getRange(t,a){t>a&&([t,a]=[a,t]);let c=[],e=-1,s=Math.ceil(Math.sqrt(this.length)),r=!0;for(let o=0;o<this.length;o+=s)this[o+s]?e<0&&this[o+s].start>=t&&(e=o):e=e<0?o:e;for(;r;)this[e]?.end<a?this[e].start>=t&&c.push(this[e]):r=!1,e++;return c}};var te=0xffffffffffff,G=function(t){let a=new M,c=this,e=t.timeDivision,s=120,r=new M,o=0,h=0;r.push(new C(0,te,[120,0])),t.track.forEach(function(i){o=0,i.event.forEach(function(n){o+=n.deltaTime,n.type==255&&n?.metaType==81&&(s=6e7/n.data,r[r.length-1]&&r.push(new C(o,0xffffffffffff,[s,0])))})}),r.fresh(),r.forEach(function(i,n,d){n>0&&(d[n-1].end=i.start)});let g=120;r.forEach(function(i,n,d){n>0&&(i.end==i.start?d.splice(d.indexOf(i),1):g==i.data[0]&&(d[n-1].end=i.end,d.splice(d.indexOf(i),1)),g=i.data[0])});let u=0,p=120;return r.forEach(function(i){let n=i.start,d=n/p/e*60+u;p=i.data[0],u=d-n/p/e*60,i.data[1]=u}),console.debug("All tempo changes: ",r),s=120,o=0,h=0,t.track.forEach(function(i,n){o=0,h=0;let d=n+1;i.event.forEach(function(f,b){o+=f.deltaTime;let l=r.step(o,!0)[0];l&&(s=l.data[0],h=l.data[1]);let y={type:f.type,data:f.data,track:d,part:0};f.type>14?y.meta=f.metaType:y.part=f.channel,a.push(new B(o/s/e*60+h,y))})}),a.fresh(),self.midiEvents=a,console.debug(`Parsed a type ${t.formatType} MIDI sequence.`),a};R.default.customInterpreter=A;var m=function(t,a,c){t.addEventListener(c,e=>{a.dispatchEvent(c,e.data)})},st=class extends k{device;#e;#h;#d=[];#a="";#n=[];#c=new Uint8ClampedArray(128);#f=new Uint8ClampedArray(128);#s=.5;#i=120;#t=4;#o=4;#r=0;#l=0;smoothingAtk=0;smoothingDcy=0;reset(){let t=this;t.dispatchEvent("reset"),t.#e?.resetIndex(),t.device.init(),t.#a="",t.#s=.5,t.#i=120,t.#t=4,t.#o=4,t.#r=0,t.#l=0,t.dispatchEvent("tempo",t.#i),t.dispatchEvent("title",t.#a)}async loadFile(t){this.#e=G(R.default.parse(new Uint8Array(await t.arrayBuffer())))}async loadMap(t){}async loadEfx(t){let a=this,c=0,e=0,s,r,o;t.split(`
`).forEach((h,g)=>{if(g){let u=0,p;h.split("	").forEach((i,n)=>{switch(n){case s:{u|=parseInt(i,16)<<8;break}case r:{u|=parseInt(i,16);break}case o:{p=i;break}}}),a.#d[u]?console.debug(`EFX ID 0x${u.toString(16).padStart(4,"0")} (${p}) seems to be in conflict.`):(a.#d[u]=p,c++),e++}else h.split("	").forEach((u,p)=>{switch(u){case"MSB":{s=p;break}case"LSB":{r=p;break}case"Name":{o=p;break}default:console.warn(`Unknown EFX field: ${u}`)}})}),console.debug(`EFX: ${e} total, ${c} loaded.`),a.dispatchEvent("efxreverb",a.device.getEffectType(0)),a.dispatchEvent("efxchorus",a.device.getEffectType(1)),a.dispatchEvent("efxdelay",a.device.getEffectType(2)),a.dispatchEvent("efxinsert0",a.device.getEffectType(3)),a.dispatchEvent("efxinsert1",a.device.getEffectType(4)),a.dispatchEvent("efxinsert2",a.device.getEffectType(5)),a.dispatchEvent("efxinsert3",a.device.getEffectType(6))}switchMode(t,a=!1){this.device.switchMode(t,a)}getMode(){return this.device.getMode()}getVoice(){return this.device.getVoice(...arguments)}getChVoice(t){return this.device.getChVoice(t)}getMapped(t){}getEfx([t,a]){let c=t<<8|a;return this.#d[c]||`0x${c.toString(16).padStart(4,"0")}`}get noteProgress(){return this.#l/this.#s}get noteOverall(){return this.noteProgress-this.#r}get noteBar(){return Math.floor(this.noteOverall/this.#t)}get noteBeat(){let t=this.noteOverall%this.#t;return t<0&&(t+=this.#t),t}getTimeSig(){return[this.#t,this.#o]}getTempo(){return this.#i}sendCmd(t){this.device.runJson(t)}render(t){t>this.#l&&(this.#l=t);let a=this.#e?.step(t)||[],c=0,e=new Set,s=this,r=[];this.device.getStrength().forEach((b,l)=>{this.#f[l]=b}),s.device.newStrength(),a.forEach(function(b){let l=b.data;l.type==9&&(l.data[1]>0?e.add(l.part*128+l.data[0]):e.has(l.part*128+l.data[0])&&c++),b.data.type==8&&e.has(l.part*128+l.data[0])&&c++;let y=s.device.runJson(l);switch(y?.reply){case"meta":{r.push(y);break}}y?.reply&&delete y.reply}),r?.length>0&&this.dispatchEvent("meta",r);let o=this.device.getActive(),h=[],g=s.device.getPitch(),u=s.device.getCcAll(),p=s.device.getProgram(),i=s.device.getChType(),n=this.device.getStrength();n.forEach(function(b,l,y){y[l]=Math.max(s.#f[l],b);let E=y[l]-s.#c[l],D=v.length*l;if(E>=0){let w=4*.25**(u[D+v[73]]/64);s.#c[l]+=Math.ceil(E-E*s.smoothingAtk**w)}else{let w=4*.25**(u[D+v[72]]/64);s.#c[l]+=Math.floor(E-E*s.smoothingDcy**w)}});let d=0;return o.forEach(function(b,l){b&&(h[l]=s.device.getVel(l),d+=h[l].size)}),{extraPoly:c,curPoly:d,chInUse:o,chKeyPr:h,chPitch:g,chProgr:p,chContr:u,chType:i,eventCount:a.length,title:this.#a,bitmap:this.device.getBitmap(),letter:this.device.getLetter(),texts:this.device.getTexts(),master:this.device.getMaster(),mode:this.device.getMode(),strength:this.#c.slice(),velo:n,rpn:this.device.getRpn(),tSig:this.getTimeSig(),tempo:this.getTempo(),noteBar:this.noteBar,noteBeat:this.noteBeat,ace:this.device.getAce(),efxSink:this.device.getEffectSink()}}constructor(t,a=.5,c=.5){super();let e=this;e.smoothingAtk=a,e.smoothingDcy=c,e.device=t,e.addEventListener("meta",function(s){s?.data?.forEach(function(r){(e.#n[r.meta]||console.debug).call(e,r.meta,r.data)})}),m(e.device,e,"mode"),m(e.device,e,"mastervolume"),m(e.device,e,"channelactive"),m(e.device,e,"channelmin"),m(e.device,e,"channelmax"),m(e.device,e,"channelreset"),m(e.device,e,"screen"),m(e.device,e,"metacommit"),m(e.device,e,"efxreverb"),m(e.device,e,"efxchorus"),m(e.device,e,"efxdelay"),m(e.device,e,"efxinsert0"),m(e.device,e,"efxinsert1"),m(e.device,e,"efxinsert2"),m(e.device,e,"efxinsert3"),e.#n[3]=function(s,r){e.#a?.length<1&&(e.#a=r,e.dispatchEvent("title",e.#a))},e.#n[81]=function(s,r){let o=e.noteProgress,h=e.#s||.5;e.#i=6e7/r,e.#s=r/1e6,e.#r+=o*(h/e.#s)-o,e.dispatchEvent("tempo",e.#i)},e.#n[88]=function(s,r){let o=e.noteProgress,h=e.noteOverall,g=e.noteBar,u=e.noteBeat,p=e.#t,i=e.#o;e.#t=r[0],e.#o=1<<r[1];let n=24*(32/r[3])/r[2];if(p!=e.#t){let d=g;e.#r-=d*(e.#t-p),u+1>=p&&(p<e.#t?e.#r-=Math.ceil(e.#t-u-1):e.#r+=e.#t)}e.dispatchEvent("tsig",e.getTimeSig())}}};export{st as RootDisplay,v as ccToPos,L as dnToPos};

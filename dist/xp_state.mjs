var Rt=Object.defineProperty;var Ot=(b,e,s)=>e in b?Rt(b,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):b[e]=s;var M=(b,e,s)=>(Ot(b,typeof e!="symbol"?e+"":e,s),s),st=(b,e,s)=>{if(!e.has(b))throw TypeError("Cannot "+s)};var t=(b,e,s)=>(st(b,e,"read from private field"),s?s.call(b):e.get(b)),m=(b,e,s)=>{if(e.has(b))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(b):e.set(b,s)},E=(b,e,s,f)=>(st(b,e,"write to private field"),f?f.call(b,s):e.set(b,s),s);(function(){var b=function(c,n,i){var o,h;if(self.MessageEvent)switch(c){case"message":{h=new MessageEvent(c,{data:n,ports:i==null?void 0:i.ports}),Object.defineProperty(h,"source",{value:i==null?void 0:i.source});break}default:h=new Event(c)}else h=document.createEvent("Event"),h.initEvent(c,!1,!1),i&&c=="message"&&(h.data=n,i.source&&Object.defineProperty(h,"source",{value:i.source}),(o=i.ports)!=null&&o.length&&Object.defineProperty(h,"ports",{value:i.ports}));return h};self.BroadcastChannel?console.info("[Snowy] Snowy is disabled."):(console.info("[Snowy] Snowy is enabled. Path: ".concat(self.SNOWY_PATH||"/snowy.js")),s=[],f={},d=function(c){var n,i=this;if((this==null?void 0:this.constructor)!=d)throw new TypeError("Illegal constructor");s.push(this),(n=f[c])!=null&&n.constructor||(f[c]=[]),f[c].push(this);var o=Math.floor(Math.random()*281474976710656),h=[],l=0,g=[],$=!0,w=!1;Object.defineProperty(this,"id",{get:function(){return o}}),Object.defineProperty(this,"name",{value:c}),this.close=function(){var S,B=s.indexOf(i);B>-1?(e.postMessage({t:"d",c,i:o}),s.splice(B,1),(S=f[c])!=null&&S.constructor&&(B=f[c].indexOf(i),B>-1&&f[c].splice(B,1)),f[c].length||delete f[c],console.debug("[Snowy] BroadcastChannel closed."),w=!0):console.debug("[Snowy] BroadcastChannel already closed.")},this.postMessage=function(S){if(e){if(w)throw new Error("Channel already closed");e.postMessage({t:"m",c,i:o,m:l,d:S}),l++,l>4294967295&&(l=0)}else g.push(S),console.debug("[Snowy] Message is cached.")},this.flush=function(){if(e){if($){for(e.postMessage({t:"r",c,i:o}),console.debug("[Snowy] ".concat(g.length," message(s) in cache."));g.length;){var S=g.shift();i.postMessage(S)}$=!1,console.debug("[Snowy] All cached messages are flushed away.")}}else throw new Error("Tried to flush when the ports are not ready")},this.receiveMessage=function(S){S.c==c?S.i!=o&&i.dispatchEvent(b("message",S.d,{source:i})):console.debug("[Snowy] Channel ID mismatch. Instance ".concat(o," receives from ").concat(c,", not ").concat(S.c,"."))};var k={};this.dispatchEvent=function(S){var B,de;if(Object.defineProperty(S,"target",{value:i}),Object.defineProperty(S,"currentTarget",{value:i}),(B=k[S.type])!=null&&B.length)for(var ue=k[S.type],me=0;me<ue.length;me++)((de=ue[me])==null?void 0:de.constructor)==Function&&ue[me].call(i,S);i["on".concat(S.type)]&&i["on".concat(S.type)].constructor==Function&&i["on".concat(S.type)].call(i,S)},this.addEventListener=function(S,B){var de;(de=k[S])!=null&&de.constructor||(k[S]=[]);var ue=k[S].indexOf(B);ue==-1&&k[S].push(B)},this.removeEventListener=function(S,B){var de,ue;if((de=k[S])!=null&&de.length){var me=k[S].indexOf(B);me>-1&&k[S].splice(me,1)}!((ue=k[S])!=null&&ue.length)&&k[S].constructor&&delete k[S]}},self.BroadcastChannel=d,a=function(){if(e){e.addEventListener("message",function(n){var i=n.data,o=!1;switch(i.t){case"k":{o=!1,e.postMessage({t:"k"});break}case"m":{var h=f[i.c];if(h!=null&&h.length)for(var l=0;l<h.length;l++)h[l].receiveMessage(i);break}case"c":{for(var g=[],$=0;$<s.length;$++){var w=s[$].name;g.indexOf(w)<0&&g.push(w)}e.postMessage({t:"k",c:g});break}default:o=!0}o&&console.info("ReceiveBroadcast",i)});for(var c=0;c<s.length;c++)s[c].flush()}else throw new Error("Message port isn't yet ready");console.info("[Snowy] Snowy is active.")},r=function(){if(!e){var c=new SharedWorker(self.SNOWY_PATH||"/snowy.js");c.port.start();var n=function(i){i.data.t=="swc"&&(c.port.removeEventListener("message",n),e=c.port,e.postMessage({t:"k"}),a())};c.port.addEventListener("message",n)}},r());var e,s,f,d,a,r})();{let b=function(e,s){let f=new FileReader;return new Promise((d,a)=>{switch(f.addEventListener("abort",()=>{a(new Error("Blob read aborted"))}),f.addEventListener("error",r=>{a(f.error||r.data||new Error("Blob read error"))}),f.addEventListener("load",()=>{d(f.result)}),s.toLowerCase()){case"arraybuffer":case"buffer":{f.readAsArrayBuffer(e);break}case"string":case"text":{f.readAsText(e);break}default:a(new Error(`Unknown target ${s}`))}})};Blob.prototype.arrayBuffer=Blob.prototype.arrayBuffer||function(){return b(this,"buffer")},Blob.prototype.text=Blob.prototype.text||function(){return b(this,"text")}}String.prototype.replaceAll=String.prototype.replaceAll||function(b,e){let s=0,f=16,d=this,a=[];for(;s<f&&d.lastIndexOf(b)>-1;){let r=d.lastIndexOf(b);a.unshift(d.slice(r+b.length)),d=d.slice(0,r),r==0&&a.unshift(""),s++}return d.length&&a.unshift(d),a.join(e)||""},String.prototype.padStart=String.prototype.padStart||function(b,e){if(e){let s=this;for(;s.length<b;)s=`${e}${s}`;return s}},String.prototype.padEnd=String.prototype.padEnd||function(b,e){if(e){let s=this;for(;s.length<b;)s+=e;return s}};var it=function(b,e){let s=Math.min(b.length,e.length),f=b.slice(0,s),d=e.slice(0,s),a=0,r=0;for(;r<s&&a==0;)a=Math.sign(f[r]-d[r]),r++;return a},ee=function(b=""){this.name=b,this.pool=[],this.point=function(e,s=!1){if(this.pool.length>0){let f=this.pool.length,d=1<<Math.floor(Math.log2(f)),a=d,r=64;for(;d>=1&&r>=0;){if(r<=0)throw new Error("TTL reached.");if(a==f)a-=d;else{let n=it(e,this.pool[a]);switch(n){case 0:{r=0;break}case 1:{a+d<=f&&(a+=d);break}case-1:{a!=0&&(a-=d);break}default:console.warn(`Unexpected result ${n}.`)}}d=d>>1,r--}let c=!0;if(a>=this.pool.length)c=!1;else{let n=this;this.pool[a].forEach(function(i,o,h){c&&i!=e[o]&&(c=!1)}),!c&&it(e,this.pool[a])>0&&a++}return c||s?a:-1}else return s?0:-1},this.add=function(e,s){return e.data=s,this.pool.splice(this.point(e,!0),0,e),this},this.default=function(e){console.warn(`No match in "${this.name||"(unknown)"}" for "${e}". Default action not defined.`)},this.get=function(e){let s=this.point(e);if(s>-1)return this.pool[s].data;this.default(e)},this.run=function(e,...s){let f=this.point(e);f>-1?e.subarray?this.pool[f].data(e.subarray(this.pool[f].length),...s):this.pool[f].data(e.slice(this.pool[f].length),...s):this.default(e,...s)}};var I,nt,ct=(nt=class{constructor(){m(this,I,{})}addEventListener(b,e){t(this,I)[b]||(t(this,I)[b]=[]),t(this,I)[b].unshift(e)}removeEventListener(b,e){if(t(this,I)[b]){let s=t(this,I)[b].indexOf(e);s>-1&&t(this,I)[b].splice(s,1),t(this,I)[b].length<1&&delete t(this,I)[b]}}dispatchEvent(b,e){var d;let s=new Event(b),f=this;s.data=e,((d=t(this,I)[b])==null?void 0:d.length)>0&&t(this,I)[b].forEach(function(a){try{a==null||a.call(f,s)}catch(r){console.error(r)}}),this[`on${b}`]&&this[`on${b}`](s)}},I=new WeakMap,nt);var Dt=["MSB","PRG","LSB"],je=function(b){let e=Math.floor(b/10),s=b%10;return`${e.toString(16)}${s}`},_,ot,We=(ot=class{constructor(...b){m(this,_,void 0);M(this,"strictMode",!1);this.loadFiles(...b)}get(b=0,e=0,s=0,f){let d=[b,e,s],a,r=Array.from(arguments);switch(f){case"xg":{switch(b){case 0:{s==126?r[2]=125:s==127&&(r[2]=0);break}case 32:{r[2]+=4;break}case 33:case 35:case 36:{r[2]+=5;break}case 79:case 80:case 81:case 82:case 83:case 84:r[0]+=16;case 95:case 96:case 97:case 98:case 99:case 100:{s==126&&(r[2]=0);break}case 48:case 64:case 126:case 127:{s==126&&(r[2]=0);break}}break}case"gs":{b==0&&s<5?r[2]=0:b>125&&s<5&&s!=2&&(r[2]=b,r[0]=0);break}case"g2":case"sd":{(b>>1==40||b>95&&b<100)&&(r[2]|=16);break}case"sg":{b==8&&s==0&&(r[2]=5);break}case"s90es":{s<8?r[2]+=17:s<32?r[2]+=13:r[2]=(r[2]>>3)+19;break}case"motif":{s<8?r[2]+=28:s<32?r[2]+=13:r[2]=(r[2]>>3)+19;break}}let c=" ",n="M",i=0,o=0;switch(r[0]){case 0:{r[2]==127?n="MT-a":r[2]==126?n="MT-b":r[2]==7?n="GM-k":r[2]==5?n="SG-a":r[2]==4?n="SP-l":r[2]==0||f=="gs"&&r[2]<5?n="GM-a":(n="y",i=3);break}case 8:{f=="sg"?n="GM-s":n="r:";break}case 48:{n=`yM${(r[2]>>3).toString().padStart(2,"0")}`,i=1;break}case 56:{n="GM-b";break}case 61:case 120:{n="rDrm";break}case 62:{n="kDrm";break}case 63:{if(r[2]<17){let $=r[2];n=$<10?"kP:":"kC:",n+=$%10}else r[2]<34?n=["Pre1","Pre2","Pre3","Pre4","Usr1","Usr2","DrmP","DrmU","Plg1","Plg2","Plg3","Pre1","Pre2","Pre3","Pre4","Pre5","Pre6"][r[2]-17]:n="Ds";break}case 64:{n="ySFX";break}case 67:{n="DX:S";break}case 80:case 81:case 82:case 83:{n=`Prg${"UABC"[r[0]-80]}`;break}case 88:case 89:case 90:case 91:{n=`Cmb${"UABC"[r[0]-88]}`;break}case 95:{n=`${["DR","PC"][r[2]]}-d`;break}case 96:{n=r[2]==106?"AP-a":r[2]>>4==1?"SDg":"PF",r[2]>63?o=63:r[2]>>4==1&&(o=16),i=3;break}case 97:{n=r[2]>>4==1?"SDa":"VL:",i=3,r[2]>>4==1?o=16:o=112;break}case 98:{n=r[2]>>4==1?"SDb":"SG-a",i=3,o=16;break}case 99:{n=r[2]>>4==1?"SDc":"DX",r[2]>63?o=63:r[2]>>4==1&&(o=16),i=3;break}case 100:{n="AN",r[2]>63?o=63:r[2]>>4==1&&(o=16),i=3;break}case 104:case 105:case 106:case 107:{n="SDd",o=104;break}case 121:{n=`GM-${r[2]?"":"a"}`,i=3;break}case 122:{n="lDrm";break}case 126:{n="yDrS";break}case 127:{r[2]==127?n="rDrm":n="yDrm";break}default:r[0]<48?n="r:":n="M"}n.length<4&&(n+=`${[b,s,r[0],r[2]][i]-o}`.padStart(4-n.length,"0")),f=="xg"&&b==16&&(a=`Voice${(s*128+e+1).toString().padStart(3,"0")}`,c=" ");let h=[r[0],r[1],r[2]];for(;!((a==null?void 0:a.length)>=0);)a=t(this,_)[r[1]||0][(r[0]<<7)+r[2]],a||(this.strictMode?(a="",c="?"):t(this,_)[r[1]||0][r[0]<<7]?r[0]==0?(r[2]=0,c="^"):r[2]<1?(r[0]=0,c="*"):(r[2]--,c="^"):b==48?(r[0]=0,r[2]=0,c="!"):b==62?(r[1]--,c=" ",r[1]<1&&!(a!=null&&a.length)&&(r[0]=0,c="!")):b<63?r[0]==0?(r[2]=0,c="^"):r[2]<1?(r[0]=0,c="*"):r[2]--:b==80?(a=`PrgU:${e.toString().padStart(3,"0")}`,c="!"):b==88?(a=`CmbU:${e.toString().padStart(3,"0")}`,c="!"):b==121?(a=`GM2Vox0${s}`,c="#"):b==122?(r[1]==32?r[1]==0:r[1]%=7,a=t(this,_)[r[1]||0][(r[0]<<7)+r[2]],a?c=" ":(a="",c="*")):r[1]==0?(a=`${b.toString().padStart(3,"0")} ${e.toString().padStart(3,"0")} ${s.toString().padStart(3,"0")}`,c="!"):r[0]==0?(r[2]=0,c="^"):r[2]>0?r[2]--:r[1]>0?(r[1]=0,c="!"):(r[0]=0,c="?"));let l=[r[0],r[1],r[2]];(f=="gs"||f=="ns5r")&&c=="^"&&(c=" "),b==127&&c=="^"&&(c=" "),c!=" "&&self.debugMode&&(a="");let g="??";switch(r[0]){case 0:{r[2]==0?g="GM":r[2]==5||r[2]==7?g="KG":r[2]<126?g="XG":r[2]==127&&(g="MT");break}case 48:{g="MU";break}case 56:{g="AG";break}case 61:case 80:case 83:case 88:case 89:case 91:{g="AI";break}case 62:case 82:case 90:{g="XD";break}case 63:{r[2]<17?g="KR":r[2]<34?g="ES":g="DS";break}case 64:case 126:{g="XG";break}case 67:case 99:{g=r[2]>>4==1?"SD":"DX";break}case 81:{g="RW";break}case 95:{g=["DR","PC"][r[2]];break}case 96:{g=r[2]==106?"AP":r[2]>>4==1?"SD":"PF";break}case 97:{g=r[2]>>4==1?"SD":"VL";break}case 98:{g=r[2]>>4==1?"SD":"SG";break}case 100:{g="AN";break}case 104:case 105:case 106:case 107:{g="SD";break}case 120:{g="GS";break}case 121:{g=r[2]?"G2":"GM";break}case 122:{g="KG";break}case 127:{g=r[2]==127?"MT":e==0?"GM":"XG";break}default:r[0]<48&&(r[0]==16&&f=="xg"?g="XG":g="GS")}return{name:a||`${je(b||0)} ${je(e||0)} ${je(s||0)}`,iid:h,eid:l,sid:d,ending:c,sect:n,standard:g}}async load(b,e,s){let f=this,d=[],a=0,r=0;b.split(`
`).forEach(function(c,n){let i=c.split("	"),o=[];n==0?i.forEach(function(h,l){d[Dt.indexOf(h)]=l}):i.forEach(async function(h,l){var g;l>2?(t(f,_)[o[d[1]]]=t(f,_)[o[d[1]]]||[],(!((g=t(f,_)[o[d[1]]][(o[d[0]]<<7)+o[d[2]]])!=null&&g.length)||e)&&(t(f,_)[o[d[1]]][(o[d[0]]<<7)+o[d[2]]]=i[3],a++),r++):o.push(parseInt(i[l]))})}),e||console.debug(`Map "${s||"(internal)"}": ${r} total, ${a} loaded.`)}clearRange(b){let e=b.prg!=null?b.prg.constructor==Array?b.prg:[b.prg,b.prg]:[0,127],s=b.msb!=null?b.msb.constructor==Array?b.msb:[b.msb,b.msb]:[0,127],f=b.lsb!=null?b.lsb.constructor==Array?b.lsb:[b.lsb,b.lsb]:[0,127];for(let d=s[0];d<=s[1];d++){let a=d<<7;for(let r=f[0];r<=f[1];r++){let c=a+r;for(let n=e[0];n<=e[1];n++)delete t(this,_)[n][c]}}}init(){E(this,_,[]);for(let b=0;b<128;b++)t(this,_).push([""])}async loadFiles(...b){this.init();let e=this;b.forEach(async function(s,f){try{await fetch(`./data/bank/${s}.tsv`).then(function(d){return d.text()}).then(d=>{e.load(d,!1,s)})}catch(d){console.error(`Failed loading "${s}.tsv".`)}})}},_=new WeakMap,ot);var Oe,lt,ft=(lt=class{constructor(){m(this,Oe,{});M(this,"context")}set(b,e){t(this,Oe)[b]=e}has(b){return!!t(this,Oe)[b]}async read(b,e){if(!this.has(b))throw new Error(`No decoder registered for "${b}"`);return await t(this,Oe)[b].call(this.context||this,e)}},Oe=new WeakMap,lt);var Ut=function(b,e){let s=!0;return e.forEach((f,d)=>{s=s&&b[d]==f}),s},ht=function(b){let e=0;return b.forEach(s=>{e*=256,e+=s}),e},Be=new TextDecoder,ze=new ft;ze.set("s7e",async function(b){let e=new Uint8Array(await b.slice(0,65536).arrayBuffer()),s="MSB	LSB	PRG	NME",f=[0,0,0,0],d=32,a=0,r=0,c=!0,n=[],i=0;for(;c;){let o=e.subarray(a);([()=>{Be.decode(o.subarray(0,4))=="YSFC"?(a+=80,r=1):a++},()=>{if(Ut(o.subarray(0,4),f))n.forEach((h,l,g)=>{let $=ht(e.subarray(h.start+4,h.start+8));h.length=$}),r=2;else{let h=Be.decode(o.subarray(0,4)),l=ht(o.subarray(4,8));n.push({type:h,start:l}),a+=8}},()=>{let h=n[i],l=e.subarray(h.start,h.start+h.length),g=32;switch(h.type){case"ENVC":{let $=d;for(;$<l.length;){let w=l.subarray($,$+g),k=Be.decode(w.subarray(0,10)).trimEnd();k.slice(0,5)=="Init "&&(k=""),k&&(s+=`
063	${(w[17]+13).toString().padStart(3,"0")}	${w[19].toString().padStart(3,"0")}	${k}`),$+=g}break}case"EDVC":{let $=d;for(;$<l.length;){let w=l.subarray($,$+g),k=Be.decode(w.subarray(0,10)).trimEnd();k.slice(0,5)=="Init "&&(k=""),k&&(s+=`
063	024	${w[19].toString().padStart(3,"0")}	${k}`),$+=g}break}case"EPVC":{let $=32,w=d;for(;w<l.length;){let k=l.subarray(w,w+$),S=Be.decode(k.subarray(0,10)).trimEnd();S=="----------"&&(S=""),S&&(s+=`
063	${(k[17]+1).toString().padStart(3,"0")}	${k[19].toString().padStart(3,"0")}	${S}`),w+=$}break}}i++,i>=n.length&&(r=3,c=!1)}][r]||(()=>{c=!1}))()}return s});var Ge=["off","hall","room","stage","plate","delay LCR","delay LR","echo","cross delay","early reflections","gate reverb","reverse gate"].concat(new Array(4),["white room","tunnel","canyon","basement","karaoke"],new Array(43),["pass through","chorus","celeste","flanger","symphonic","rotary speaker","tremelo","auto pan","phaser","distortion","overdrive","amplifier","3-band EQ","2-band EQ","auto wah"],new Array(1),["pitch change","harmonic","touch wah","compressor","noise gate","voice channel","2-way rotary speaker","ensemble detune","ambience"],new Array(4),["talking mod","Lo-Fi","dist + delay","comp + dist + delay","wah + dist + delay","V dist","dual rotor speaker"]),Ie=["melodic","drums","drum set 1","drum set 2","drum set 3","drum set 4","drum set 5","drum set 6","drum set 7","drum set 8"],Pt=[17.1,18.6,20.2,21.8,23.3,24.9,26.5,28,29.6,31.2,32.8,34.3,35.9,37.5,39,40.6,42.2,43.7,45.3,46.9,48.4,50],De=[20,22,25,28,32,36,40,45,50,56,63,70,80,90,100,110,125,140,160,180,200,225,250,280,315,355,400,450,500,560,630,700,800,900,1e3,1100,1200,1400,1600,1800,2e3,2200,2500,2800,3200,3600,4e3,4500,5e3,5600,6300,7e3,8e3,9e3,1e4,11e3,12e3,14e3,16e3,18e3,2e4],dt=[0,.04,.08,.13,.17,.21,.25,.29,.34,.38,.42,.46,.51,.55,.59,.63,.67,.72,.76,.8,.84,.88,.93,.97,1.01,1.05,1.09,1.14,1.18,1.22,1.26,1.3,1.35,1.39,1.43,1.47,1.51,1.56,1.6,1.64,1.68,1.72,1.77,1.81,1.85,1.89,1.94,1.98,2.02,2.06,2.1,2.15,2.19,2.23,2.27,2.31,2.36,2.4,2.44,2.48,2.52,2.57,2.61,2.65,2.69,2.78,2.86,2.94,3.03,3.11,3.2,3.28,3.37,3.45,3.53,3.62,3.7,3.87,4.04,4.21,4,37,4.54,4.71,4.88,5.05,5.22,5.38,5.55,5.72,6.06,6.39,6.73,7.07,7.4,7.74,8.08,8.41,8.75,9.08,9.42,9.76,10.1,10.8,11.4,12.1,12.8,13.5,14.1,14.8,15.5,16.2,16.8,17.5,18.2,19.5,20.9,22.2,23.6,24.9,26.2,27.6,28.9,30.3,31.6,33,34.3,37,39.7],ut=function(b){let e=.1,s=-.3;return b>66?(e=5,s=315):b>56?(e=1,s=47):b>46&&(e=.5,s=18.5),e*b-s},pt=function(b){return b>105?Pt[b-106]:b>100?b*1.1-100:b/10},bt=",a,i,u,e,o,ka,ki,ku,ke,ko,ky,kw,sa,si,su,se,so,sh,ta,ti,tu,te,to,t,ch,t,s,na,ni,nu,ne,no,ny,nn,ha,hi,hu,he,ho,hy,fa,fi,fu,fe,fo,ma,mi,mu,me,mo,my,mm,ya,yu,ye,yo,ra,ri,ru,re,ro,ry,wa,wi,we,wo,ga,gi,gu,ge,go,gy,gw,za,zi,zu,ze,zo,ja,ji,ju,je,jo,jy,da,di,du,de,do,dy,ba,bi,bu,be,bo,by,va,vi,vu,ve,vo,pa,pi,pu,pe,po,py,nga,ngi,ngu,nge,ngo,ngy,ng,hha,hhi,hhu,hhe,hho,hhy,hhw,*,_,,,~,.".split(","),Ye={};`hi*,
ka,か
ki,き
ku,く
ke,け
ko,こ
ky,き!
kw,くl
tsu,つ
ts,つl
sa,さ
si,すぃ
su,す
se,せ
so,そ
shi,し
sh,し!
ta,た
ti,てぃ
tu,とぅ
te,て
to,と
tchy,ち!
tchi,ち
na,な
ni,に
nu,ぬ
ne,ね
no,の
ny,に!
nn,ん
ha,は
hi,ひ
hu,ほぅ
he,へ
ho,ほ
hy,ひ!
fa,ふぁ
fi,ふぃ
fu,ふ
fe,ふぇ
fo,ふぉ
ma,ま
mi,み
mu,む
me,め
mo,も
my,み!
mm,
ra,ら
ri,り
ru,る
re,れ
ro,ろ
ry,り!
wa,わ
wi,うぃ
we,うぇ
wo,を
nga,ガ
ngi,ギ
ngu,グ
nge,ゲ
ngo,ゴ
ngy,ギ!
ng,
ga,が
gi,ぎ
gu,ぐ
ge,げ
go,ご
gy,ぎ!
gw,ぐl
za,ざ
zi,ずぃ
zu,ず
ze,ぜ
zo,ぞ
ja,じゃ
ji,じ
ju,じゅ
je,じぇ
jo,じょ
jy,じ!
da,だ
di,でぃ
du,どぅ
de,で
do,ど
dy,で!
ba,ば
bi,び
bu,ぶ
be,べ
bo,ぼ
by,び!
va,ゔぁ
vi,ゔぃ
vu,ゔ
ve,ゔぇ
vo,ゔぉ
pa,ぱ
pi,ぴ
pu,ぷ
pe,ペ
po,ぽ
py,ぴ!
!ya,ゃ
!yu,ゅ
!ye,ぇ
!yo,ょ
ya,や
yu,ゆ
ye,いぇ
yo,よ
!a,ゃ
!u,ゅ
!e,ぇ
!o,ょ
!a,ゃ
!u,ゅ
!e,ぇ
!o,ょ
la,ぁ
li,ぃ
lu,ぅ
le,ぇ
lo,ぉ
a,あ
i,い
u,う
e,え
o,お
*,っ
~,
^,
_,`.split(`
`).forEach(b=>{let e=b.split(",");Ye[e[0]]=e[1]});var gt=function(b){let e=b;b[0]=="*"&&(e=e.slice(1)),["aa","ii","uu","ee","oo"].forEach(f=>{for(;e.indexOf(f)>-1;)e=e.replace(f,f[0])});for(let f in Ye)e=e.replaceAll(f,Ye[f]);e.indexOf("ん")==0&&e.length>1&&(e=e.slice(1));let s=e.indexOf("!");return s>-1&&e.length>1&&(e=e.slice(s+1)),e},yt=function(b){return b?b<96?`cc${b}`:["aftertouch","velocity","pitch bend"][b-96]:"off"};var Je=["room 1","room 2","room 3","hall 1","hall 2","plate","delay","panning delay"],$t=["chorus 1","chorus 2","chorus 3","chorus 4","feedback","flanger","short delay","short delay feedback"],Et=["delay 1","delay 2","delay 3","delay 4","pan delay 1","pan delay 2","pan delay 3","pan delay 4","delay to reverb","pan repeat"];var At={0:"thru",256:"stereo EQ",257:"spectrum",258:"enhancer",259:"humanizer",272:"overdrive",273:"distortion",288:"phaser",289:"auto wah",290:"rotary",291:"stereo flanger",292:"step flanger",293:"tremelo",294:"auto pan",304:"compressor",305:"limiter",320:"hexa chorus",321:"tremelo chorus",322:"stereo chorus",323:"space D",324:"3D chorus",336:"stereo delay",337:"modulated delay",338:"3-tap delay",339:"4-tap delay",340:"tremelo control delay",341:"reverb",342:"gate reverb",343:"3D delay",352:"2-pitch shifter",353:"feedback pitch shifter",368:"3D auto",369:"3D manual",370:"Lo-Fi 1",371:"Lo-Fi 2",512:"overdrive - chorus",513:"overdrive - flanger",514:"overdrive - delay",515:"distortion - chorus",516:"distortion - flanger",517:"distortion - delay",518:"enhancer - chorus",519:"enhancer - flanger",520:"enhancer - delay",521:"chorus - delay",522:"flanger - delay",523:"chorus - flanger",524:"rotary multi",1024:"guitar multi 1",1025:"guitar multi 2",1026:"guitar multi 3",1027:"clean guitar multi 1",1028:"clean guitar multi 2",1029:"bass multi",1030:"rhodes multi",1280:"keyboard multi",4352:"chorus / delay",4353:"flanger / delay",4354:"chorus / flanger",4355:"overdrive / distortion",4356:"overdrive / rotary",4357:"overdrive / phaser",4358:"overdrive / auto wah",4359:"phaser / rotary",4360:"phaser / auto wah"},Lt={66307:["drive"],66309:["vowel",b=>"aiueo"[b]],94723:["pre-filter"],94724:["Lo-Fi type"],94725:["post-filter"],94979:["Lo-Fi type"],94980:["fill type",b=>["off","LPF","HPF"][b]],94984:["noise type",b=>["white","pink"][b]],94987:["disc type",b=>["LP","SP","EP","RND"]],94990:["hum type",b=>`${b+5}0Hz`],94993:["M/S",b=>["mono","stereo"][b]]},Ze=function(b){return At[(b[0]-32<<8)+b[1]]||`0x${b[0].toString(16).padStart(2,"0")}${b[1].toString(16).padStart(2,"0")}`},mt=function(b,e,s){let f=(b[0]-32<<16)+(b[1]<<8)+e,d=Lt[f]||{},a=d[0];if(a!=null&&a.length)return a+=`: ${(d[1]||function(){})(s)||s}`,a},et=[68,48,95,78,41,3,110,122,0];var X=function(b=64){return Math.round(2e3*Math.log10(b/64))/100};var tt=function(b){let e=0;return b.forEach(s=>{e+=s,e=e&127}),~e+1&127},te=function(b,e){let s=0,f=0;for(let d=0;d<b.length;d++){let a=d%8-1,r=(f>>a&1)<<7,c=b[d];c+=r,d%8!=0?(e(c,s,b),s++):f=b[d]}},_e=function(b){let e=Math.floor(b*14.2);return e<128?e:0};var ne=["?","gm","gs","xg","g2","mt32","ns5r","x5d","05rw","sd","k11","sg","krs","s90es","motif"],wt=[[0,0,0,0,121,0,0,82,81,97,0,0,63,63,63],[0,0,4,0,0,127,0,0,0,0,0,0,0,0,0]],we=[120,127,120,127,120,127,61,62,62,105,120,122,122,127],Ht=[0,3,81,84,88],vt={8:"Off",9:"On",10:"Note aftertouch",11:"cc",12:"pc",13:"Channel aftertouch",14:"Pitch"},at={0:0,1:1,2:3,5:4},kt=[[0,24],[0,127],[0,127],[40,88],[0,127],[0,127]],St=[36,37],qe=[20,21,22,23,24,25,26,28,29,30,31,36,37,64,65],Xe=[0,1,2,4,5,6,7,8,10,11,32,38,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,84,91,92,93,94,95,98,99,100,101,128,12,13,16,17,18,19],Nt=[12,13,16,17,18,19],Bt=[33,99,100,32,102,8,9,10],xt=[0,16,25,40,32,64,26,48],v={};ne.forEach((b,e)=>{v[b]=e});var p={length:Xe.length};Xe.forEach((b,e)=>{p[b]=e});var Mt={length:qe.length};qe.forEach((b,e)=>{Mt[b]=e});var F=function(){return!!self.Bun||self.debugMode||!1},Gt=function(b){let e=[],s=0;return b==null||b.forEach(function(f,d){f==247?e.push(b.subarray(s,d)):f==240&&(s=d+1)}),e.length||e.push(b.subarray(0)),F()&&console.debug(e),e};var y={ch:128,cc:Xe.length,nn:128,pl:512,tr:256,cmt:14,rpn:6,ace:8,drm:8,dpn:qe.length,dnc:128,efx:7},T,K,ae,oe,Q,ce,Tt,U,H,C,u,le,R,P,q,A,N,pe,re,ve,x,Ue,Fe,se,be,J,Pe,ge,V,Ae,ye,j,O,ke,Le,He,ie,$e,Ne,Z,D,Ke,rt,z,fe,Ee,G,Se,L,Ve,Qe,xe,Ce,W,Y,he,Me,Te,Re,Ct,ka=(Ct=class extends ct{constructor(){super();m(this,Q);M(this,"NOTE_IDLE",0);M(this,"NOTE_ATTACK",1);M(this,"NOTE_DECAY",2);M(this,"NOTE_SUSTAIN",3);M(this,"NOTE_HELD",4);M(this,"NOTE_RELEASE",5);M(this,"NOTE_SOSTENUTO_ATTACK",8);M(this,"NOTE_SOSTENUTO_DECAY",9);M(this,"NOTE_SOSTENUTO_SUSTAIN",10);M(this,"NOTE_SOSTENUTO_HELD",11);M(this,"CH_MELODIC",0);M(this,"CH_DRUMS",1);M(this,"CH_DRUM1",2);M(this,"CH_DRUM2",3);M(this,"CH_DRUM3",4);M(this,"CH_DRUM4",5);M(this,"CH_DRUM5",6);M(this,"CH_DRUM6",7);M(this,"CH_DRUM7",8);M(this,"CH_DRUM8",9);m(this,T,0);m(this,K,0);m(this,ae,0);m(this,oe,new Array(11));m(this,U,new Uint8Array(y.ch));m(this,H,new Uint8Array(y.ch));m(this,C,new Uint8Array(y.ch));m(this,u,new Uint8Array(y.ch*y.cc));m(this,le,new Uint8Array(y.ace));m(this,R,new Uint8Array(y.ch));m(this,P,new Uint8Array(y.ch*y.nn));m(this,q,new Uint8Array(y.ch));m(this,A,new Uint16Array(y.pl));m(this,N,new Uint8Array(y.pl));m(this,pe,new Int16Array(y.ch));m(this,re,new Uint8Array(y.ch));m(this,ve,0);m(this,x,new Uint8Array(y.ch*y.rpn));m(this,Ue,new Int8Array(y.ch*St.length));m(this,Fe,new Uint8Array(y.drm*y.dpn*y.dnc));m(this,se,new Uint8Array(y.ch));m(this,be,new Uint8Array(128));m(this,J,new Uint8Array(y.cmt*8));m(this,Pe,new Uint8Array(1024));m(this,ge,new Uint8Array(y.cmt*64));m(this,V,new Uint8Array(y.efx*3));m(this,Ae,new Uint8Array(y.ch));m(this,ye,0);m(this,j,0);m(this,O,100);m(this,ke,0);m(this,Le,500);m(this,He,0);m(this,ie,"");m(this,$e,0);m(this,Ne,0);m(this,Z,!0);m(this,D,!1);m(this,Ke,void 0);m(this,rt,new Uint8Array(2));m(this,z,[]);m(this,fe,new Uint8Array(y.ch));m(this,Ee,new Uint8Array(y.tr));M(this,"baseBank",new We("gm","gm2","xg","gs","ns5r","sd","gmega","plg-150vl","plg-150pf","plg-150dx","plg-150an","plg-150dr","plg-100sg","kross","s90es"));M(this,"userBank",new We("gm"));M(this,"initOnReset",!1);M(this,"aiEfxName","");m(this,G,[]);m(this,Se,void 0);m(this,L,{nOff:(e,s)=>{let f=e*128+s,d=t(this,A).lastIndexOf(f);d>-1&&(t(this,u)[y.cc*e+p[64]]>63?(t(this,N)[d]=this.NOTE_HELD,this.dispatchEvent("note",{part:e,note:s,velo:t(this,P)[f],state:this.NOTE_HELD})):t(this,u)[y.cc*e+p[66]]>63&&t(this,N)[d]==this.NOTE_SOSTENUTO_SUSTAIN?(t(this,N)[d]=this.NOTE_SOSTENUTO_HELD,this.dispatchEvent("note",{part:e,note:s,velo:t(this,P)[f],state:this.NOTE_SOSTENUTO_HELD})):(t(this,A)[d]=0,t(this,P)[f]=0,t(this,N)[d]=this.NOTE_IDLE,this.dispatchEvent("note",{part:e,note:s,velo:0,state:this.NOTE_IDLE})))},nOn:(e,s,f)=>{let d=e*128+s,a=0;for(t(this,q)[e]&&t(this,L).ano(e);t(this,N)[a]>0&&t(this,A)[a]!=d;)a++;a<y.pl?(t(this,A)[a]=d,t(this,P)[d]=f,t(this,N)[a]=this.NOTE_SUSTAIN,t(this,re)[e]<f&&(t(this,re)[e]=f),this.dispatchEvent("note",{part:e,note:s,velo:f,state:this.NOTE_SUSTAIN})):console.error("Polyphony exceeded.")},nAt:(e,s,f)=>{},cAt:(e,s)=>{},hoOf:e=>{t(this,N).forEach((s,f)=>{if(s==this.NOTE_HELD){let d=t(this,A)[f],a=d>>7;e==a&&(t(this,N)[f]=this.NOTE_IDLE,t(this,A)[f]=0,t(this,P)[d]=0,this.dispatchEvent("note",{part:e,note:d&127,velo:0,state:this.NOTE_IDLE}))}})},soOn:e=>{t(this,N).forEach((s,f)=>{let d;switch(s){case this.NOTE_ATTACK:{d=this.NOTE_SOSTENUTO_ATTACK;break}case this.NOTE_DECAY:{d=this.NOTE_SOSTENUTO_DECAY;break}case this.NOTE_SUSTAIN:{d=this.NOTE_SOSTENUTO_SUSTAIN;break}}if(d){t(this,N)[f]=d;let a=t(this,A)[f];this.dispatchEvent("note",{part:e,note:a&127,velo:t(this,P)[a],state:d})}})},soOf:e=>{t(this,N).forEach((s,f)=>{if(s==this.NOTE_SOSTENUTO_HELD){let d=t(this,A)[f],a=d>>7;e==a&&(t(this,N)[f]=this.NOTE_IDLE,t(this,A)[f]=0,t(this,P)[d]=0,this.dispatchEvent("note",{part:e,note:d&127,velo:0,state:this.NOTE_IDLE}))}})},ano:e=>{t(this,A).forEach((s,f,d)=>{let a=s>>7,r=s&127;s==0&&t(this,P)[0]==0||a==e&&t(this,L).nOff(a,r)})}});m(this,Ve,{8:function(e){let s=e.channel,f=e.data[0];t(this,L).nOff(s,f)},9:function(e){let s=e.channel;t(this,U)[s]=1;let f=e.data[0],d=e.data[1];d>0?t(this,L).nOn(s,f,d):t(this,L).nOff(s,f)},10:function(e){let s=e.channel,f=s*128+e.data[0];t(this,A).indexOf(f)>-1&&(t(this,P)[f]=data[1],this.dispatchEvent("note",{part:s,note:e.data[0],velo:e.data[1],state:this.NOTE_SUSTAIN}))},11:function(e){let s=e.channel;[0,32].indexOf(e.data[0])>-1&&(()=>{switch(t(this,T)){case v.s90es:case v.motif:{if(e.data[0]==0){[0,63].indexOf(e.data[1])>-1&&(t(this,U)[s]=1);break}e.data[1]&&(t(this,U)[s]=1);break}default:{t(this,U)[s]=1;break}}})();let f=s*y.cc;switch(e.data[0]){case 96:return;case 97:return;case 120:return;case 121:{t(this,L).ano(s),t(this,pe)[s]=0;let d=s*y.cc;t(this,u)[d+p[1]]=0,t(this,u)[d+p[5]]=0,t(this,u)[d+p[64]]=0,t(this,u)[d+p[65]]=0,t(this,u)[d+p[66]]=0,t(this,u)[d+p[67]]=0,t(this,u)[d+p[11]]=127,t(this,u)[d+p[101]]=127,t(this,u)[d+p[100]]=127,t(this,u)[d+p[99]]=127,t(this,u)[d+p[98]]=127;return}case 123:{t(this,L).ano(s);return}case 124:{t(this,L).ano(s);return}case 125:{t(this,L).ano(s);return}case 126:{t(this,q)[s]=1,t(this,L).ano(s);return}case 127:{t(this,q)[s]=0,t(this,L).ano(s);return}}if(p[e.data[0]]==null)console.warn(`cc${e.data[0]} is not accepted.`);else{switch(Nt.indexOf(e.data[0])>-1&&this.allocateAce(e.data[0]),e.data[0]){case 0:{switch(F()&&console.debug(`${ne[t(this,T)]}, CH${s+1}: ${e.data[1]}`),t(this,T)==0?e.data[1]<48?(t(this,C)[s]>0&&(e.data[1]=t(this,u)[f],e.data[1]=120,console.debug(`Forced channel ${s+1} to stay drums.`)),e.data[1]>0&&(console.debug(`Roland GS detected with MSB: ${e.data[1]}`),this.switchMode("gs"))):e.data[1]==62?this.switchMode("x5d"):e.data[1]==63?this.switchMode("krs"):(e.data[1]==64||e.data[1]==127)&&this.switchMode("xg"):t(this,T)==v.gs?e.data[1]<56&&t(this,C)[s]>0&&(e.data[1]=t(this,u)[f],e.data[1]=120,console.debug(`Forced channel ${s+1} to stay drums.`)):t(this,T)==v.gm?e.data[1]<48?t(this,C)[s]>0&&(e.data[1]=120,this.switchMode("gs",!0),console.debug(`Forced channel ${s+1} to stay drums.`)):(e.data[1]==64||e.data[1]==127)&&this.switchMode("xg",!0):t(this,T)==v.x5d&&e.data[1]>0&&e.data[1]<8&&this.switchMode("05rw",!0),t(this,T)){case v.xg:{[126,127].indexOf(e.data[1])>-1?t(this,C)[s]==0&&(this.setChType(s,this.CH_DRUM2),console.debug(`CH${s+1} set to drums by MSB.`)):t(this,C)[s]>0&&(this.setChType(s,this.CH_MELODIC),console.debug(`CH${s+1} set to melodic by MSB.`));break}case v["05rw"]:case v.x5d:case v.ns5r:{[61,62,126,127].indexOf(e.data[1])>-1?t(this,C)[s]==0&&(this.setChType(s,this.CH_DRUM2),console.debug(`CH${s+1} set to drums by MSB.`)):t(this,C)[s]>0&&(this.setChType(s,this.CH_MELODIC),console.debug(`CH${s+1} set to melodic by MSB.`));break}case v.sd:{[104,105,106,107].indexOf(e.data[1])>-1?t(this,C)[s]==0&&(this.setChType(s,this.CH_DRUM2),console.debug(`CH${s+1} set to drums by MSB.`)):t(this,C)[s]>0&&(this.setChType(s,this.CH_MELODIC),console.debug(`CH${s+1} set to melodic by MSB.`));break}case v.g2:{e.data[1]==120?t(this,C)[s]==0&&(this.setChType(s,this.CH_DRUMS),console.debug(`CH${s+1} set to drums by MSB.`)):t(this,C)[s]>0&&(this.setChType(s,this.CH_MELODIC),console.debug(`CH${s+1} set to melodic by MSB.`));break}}this.dispatchEvent("voice",{part:s});break}case 6:{if(t(this,ve)){[v.xg,v.gs,v.ns5r].indexOf(t(this,T))<0&&console.warn(`NRPN commits are not available under "${ne[t(this,T)]}" mode, even when they are supported in Octavia.`);let d=t(this,u)[f+p[99]],a=t(this,u)[f+p[98]];if(d==1){let r=Bt.indexOf(a);if(r>-1)t(this,u)[f+p[71+r]]=e.data[1],F()&&console.debug(`Redirected NRPN 1 ${a} to cc${71+r}.`),this.dispatchEvent("cc",{part:s,cc:71+r,data:e.data[1]});else{let c=St.indexOf(a);c>-1?t(this,Ue)[s*10+c]=e.data[1]-64:console.warn(`NRPN 0x01${a.toString(16).padStart(2,"0")} is not supported.`),F()&&console.debug(`CH${s+1} voice NRPN ${a} commit`)}}else{if(qe.indexOf(d)<0){let c=`NRPN 0x${d.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")} `;d==127?console.warn(`${c}is not necessary. Consider removing it.`):console.warn(`${c}is not supported.`)}else{let c=t(this,C)[s]-2;c<0?console.warn(`CH${s+1} cannot accept drum NRPN as type ${Ie[t(this,C)[s]]}.`):t(this,Fe)[(c*y.dpn+Mt[d])*y.dnc+a]=e.data[1]-64}F()&&console.debug(`CH${s+1} (${Ie[t(this,C)[s]]}) drum NRPN ${d} commit`)}}else{let d=at[t(this,u)[f+p[100]]];t(this,u)[f+p[101]]==0&&d!=null&&(F()&&console.debug(`CH${s+1} RPN 0 ${t(this,u)[f+p[100]]} commit: ${e.data[1]}`),e.data[1]=Math.min(Math.max(e.data[1],kt[d][0]),kt[d][1]),t(this,x)[s*y.rpn+d]=e.data[1])}break}case 32:{switch(F()&&console.debug(`${ne[t(this,T)]}, CH${s+1} LSB: ${e.data[1]}`),t(this,T)){case v.s90es:case v.motif:{this.setChType(s,[32,40].indexOf(e.data[1])>-1?this.CH_DRUMS:this.CH_MELODIC,t(this,T),!0);break}}this.dispatchEvent("voice",{part:s});break}case 38:{t(this,ve)||t(this,u)[f+101]==0&&at[t(this,u)[f+100]]!=null&&(t(this,x)[s*y.rpn+at[t(this,u)[f+100]]+1]=e.data[1]);break}case 64:{e.data[1]<64&&t(this,L).hoOf(s);break}case 66:{e.data[1]>>6?t(this,L).soOn(s):t(this,L).soOf(s);break}case 98:case 99:{E(this,ve,1);break}case 100:case 101:{E(this,ve,0);break}}t(this,u)[f+p[e.data[0]]]=e.data[1],this.dispatchEvent("cc",{part:s,cc:e.data[0],data:e.data[1]})}},12:function(e){let s=e.channel;switch(t(this,T)){case v.s90es:case v.motif:{e.data&&(t(this,U)[s]=1);break}default:t(this,U)[s]=1}t(this,R)[s]=e.data,t(this,se)[s]=0,F()&&console.debug(`T:${e.track} C:${s} P:${e.data}`),this.dispatchEvent("voice",{part:s})},13:function(e){let s=this,f=e.channel;t(this,A).forEach(function(d){let a=d>>7;f==a&&(t(s,P)[d]=e.data,s.dispatchEvent("note",{part:f,note:d&127,velo:e.data,state:s.NOTE_SUSTAIN}))})},14:function(e){let s=e.channel;t(this,pe)[s]=e.data[1]*128+e.data[0]-8192,this.dispatchEvent("pitch",{part:s,pitch:this.getPitchShift(s)})},15:function(e){Gt(e.data).forEach(s=>{let f=s[0],d=s[1];(t(this,Qe)[f]||function(){console.debug(`Unknown manufacturer ${f}.`)})(d,s.subarray(2),e.track)})},248:function(e){},250:function(e){},251:function(e){},252:function(e){},254:function(e){},255:function(e){(t(this,G)[e.meta]||function(f,d,a){}).call(this,e.data,e.track,e.meta),e.meta!=32&&E(this,ke,0);let s=Ht.indexOf(e.meta)>-1;if(F()&&console.debug(e),s)return e.reply="meta",e}});m(this,Qe,{64:(e,s,f)=>{t(this,Me).run(s,f,e)},65:(e,s,f)=>{if(s[0]<16)if(s[1]==72){let d=s[s.length-1],a=tt(s.subarray(3,s.length-1));d==a?t(this,Y).run(s.subarray(0,s.length-1),f,e):console.warn(`Bad SD checksum ${d}. Should be ${a}.`)}else t(this,Y).run(s,f,e);else{let d=s[s.length-1],a=tt(s.subarray(2,s.length-1));d==a?t(this,Y).run(s.subarray(0,s.length-1),f,e):console.warn(`Bad GS checksum ${d}. Should be ${a}.`)}},66:(e,s,f)=>{t(this,he).run(s,f,e)},67:(e,s,f)=>{t(this,W).run(s,f,e)},68:(e,s,f)=>{t(this,Re).run(s,f,e)},71:(e,s,f)=>{t(this,Te).run(s,f,e)},126:(e,s,f)=>{t(this,xe).run(s,f,e)},127:(e,s,f)=>{this.switchMode("gm"),t(this,Ce).run(s,f,e)}});m(this,xe,void 0);m(this,Ce,void 0);m(this,W,void 0);m(this,Y,void 0);m(this,he,void 0);m(this,Me,void 0);m(this,Te,void 0);m(this,Re,void 0);let e=this;E(this,Q,new Uint8Array(256),Tt),t(this,oe)[10]=new Uint8Array(512),E(this,Se,new ee),this.userBank.strictMode=!0,this.userBank.load(`MSB	PRG	LSB	NME
062	000	000	
122	000	000	
122	001	000	
122	002	000	
122	003	000	
122	004	000	
122	005	000	
122	006	000	`),this.addEventListener("metacommit",function(a){var c,n;let{data:r}=a;((c=t(e,z)[0])==null?void 0:c.type)==r.type&&((n=t(e,z)[0])!=null&&n.amend)?(t(e,z)[0].amend=r.amend,t(e,z)[0].data+=r.data):t(e,z).unshift(r)}),t(this,G)[1]=function(a){var r,c,n,i,o;switch(a=a.replaceAll(`\r
`,`
`).replaceAll("\r",`
`),a.slice(0,2)){case"@I":{E(this,D,!0),this.dispatchEvent("metacommit",{type:"Kar.Info",data:(r=a.slice(2))==null?void 0:r.trimLeft()});break}case"@K":{E(this,D,!0),this.dispatchEvent("metacommit",{type:"Kar.Mode",data:(c=a.slice(2))==null?void 0:c.trimLeft()}),console.debug(`Karaoke mode active: ${a.slice(2)}`);break}case"@L":{E(this,D,!0),this.dispatchEvent("metacommit",{type:"Kar.Lang",data:(n=a.slice(2))==null?void 0:n.trimLeft()});break}case"@T":{E(this,D,!0),this.dispatchEvent("metacommit",{type:"KarTitle",data:(i=a.slice(2))==null?void 0:i.trimLeft()});break}case"@V":{E(this,D,!0),this.dispatchEvent("metacommit",{type:"Kar.Ver.",data:(o=a.slice(2))==null?void 0:o.trimLeft()});break}case"XF":{let h=a.slice(2).split(":");switch(h[0]){case"hd":{h.slice(1).forEach((l,g)=>{l.length&&this.dispatchEvent("metacommit",{type:["XfSngDte","XfSngRgn","XfSngCat","XfSongBt","XfSngIns","XfSngVoc","XfSngCmp","XfSngLrc","XfSngArr","XfSngPer","XfSngPrg","XfSngTag"][g],data:l})});break}case"ln":{h.slice(1).forEach((l,g)=>{l.length&&this.dispatchEvent("metacommit",{type:["XfKarLng","XfKarNme","XfKarCmp","XfKarLrc","XfKarArr","XfKarPer","XfKarPrg"][g],data:l})});break}default:this.dispatchEvent("metacommit",{type:"XfUnData",data:a})}break}default:t(this,D)?a[0]=="\\"?(this.dispatchEvent("metacommit",{type:"KarLyric",data:"",amend:!1}),this.dispatchEvent("metacommit",{type:"KarLyric",data:a.slice(1),amend:!0})):a[0]=="/"?(this.dispatchEvent("metacommit",{type:"KarLyric",data:"",mask:!0,amend:!1}),this.dispatchEvent("metacommit",{type:"KarLyric",data:a.slice(1),mask:!0,amend:!0})):this.dispatchEvent("metacommit",{type:"KarLyric",data:a,amend:!0}):a.split(`
`).forEach((h,l)=>{this.dispatchEvent("metacommit",{type:"Cmn.Text",data:h,mask:l!=0})})}},t(this,G)[2]=function(a){this.dispatchEvent("metacommit",{type:"Copyrite",data:a})},t(this,G)[3]=function(a,r){r<1&&t(this,ke)<1&&this.dispatchEvent("metacommit",{type:"TrkTitle",data:a})},t(this,G)[4]=function(a,r){this.dispatchEvent("metacommit",{type:"Instrmnt",data:a})},t(this,G)[5]=function(a){a.trim()==""?this.dispatchEvent("metacommit",{type:"C.Lyrics",data:"",amend:!1}):this.dispatchEvent("metacommit",{type:"C.Lyrics",data:a,amend:!0})},t(this,G)[6]=function(a){this.dispatchEvent("metacommit",{type:"C.Marker",data:a})},t(this,G)[7]=function(a){this.dispatchEvent("metacommit",{type:"CuePoint",data:a})},t(this,G)[32]=function(a){E(this,ke,a[0]+1)},t(this,G)[33]=function(a,r){t(e,Ee)[r]=a+1},t(this,G)[81]=function(a,r){E(e,Le,a/1e3)},t(this,G)[127]=function(a,r){t(e,Se).run(a,r)},t(this,Se).default=function(a){console.warn(`Unrecognized sequencer-specific byte sequence: ${a}`)},t(this,Se).add([67,0,1],function(a,r){t(e,Ee)[r]=a[0]+1}),E(this,xe,new ee("universal non-realtime")),E(this,Ce,new ee("universal realtime")),E(this,W,new ee("Yamaha")),E(this,Y,new ee("Roland")),E(this,he,new ee("Korg")),E(this,Me,new ee("Kawai")),E(this,Te,new ee("Akai")),E(this,Re,new ee("Casio"));let s=function(a){console.info(`Unrecognized SysEx in "${this.name}" set.
%o`,a)};t(this,xe).default=s,t(this,Ce).default=s,t(this,W).default=s,t(this,Y).default=s,t(this,he).default=s,t(this,Me).default=s,t(this,Te).default=s,t(this,Re).default=s,t(this,xe).add([9],a=>{e.switchMode(["gm","?","g2"][a[0]-1],!0),E(e,D,t(e,D)||!1),console.info(`MIDI reset: ${["GM","Init","GM2"][a[0]-1]}`),a[0]==2&&e.init()}),t(this,Ce).add([4,1],a=>{E(e,O,((a[1]<<7)+a[0])/16383*100),e.dispatchEvent("mastervolume",t(e,O))}).add([4,3],a=>((a[1]<<7)+a[0]-8192)/8192).add([4,4],a=>a[1]-64),t(this,W).add([76,0,0],a=>{switch(a[0]){case 125:{console.info(`XG drum setup reset: ${a}`);break}case 126:{e.switchMode("xg",!0),E(e,D,!1),console.info("MIDI reset: XG");break}default:{let r=[0,0,0,0],c=(n,i)=>{r[i]=n};if(a.subarray(1).forEach((n,i)=>{let o=i+a[0];([c,c,c,c,h=>{E(this,O,h*129/16383*100),e.dispatchEvent("mastervolume",t(e,O))},h=>{},h=>{}][o]||(()=>{}))(n,i)}),a[0]<4){let n=0;r.forEach(i=>{n=n<<4,n+=i}),n-=1024}}}}).add([76,2,1],a=>{let r="XG ";a[0]<32?(r+="reverb ",a.subarray(1).forEach((c,n)=>{([i=>{e.setEffectTypeRaw(0,!1,i),console.info(`${r}main type: ${Ge[i]}`),e.dispatchEvent("efxreverb",e.getEffectType(0))},i=>{e.setEffectTypeRaw(0,!0,i),console.debug(`${r}sub type: ${i+1}`),e.dispatchEvent("efxreverb",e.getEffectType(0))},i=>{console.debug(`${r}time: ${ut(i)}s`)},i=>{console.debug(`${r}diffusion: ${i}`)},i=>{console.debug(`${r}initial delay: ${i}`)},i=>{console.debug(`${r}HPF cutoff: ${De[i]}Hz`)},i=>{console.debug(`${r}LPF cutoff: ${De[i]}Hz`)},i=>{console.debug(`${r}width: ${i}`)},i=>{console.debug(`${r}height: ${i}`)},i=>{console.debug(`${r}depth: ${i}`)},i=>{console.debug(`${r}wall type: ${i}`)},i=>{console.debug(`${r}dry/wet: ${i}`)},i=>{console.debug(`${r}send: ${X(i)}dB`)},i=>{console.debug(`${r}pan: ${i-64}`)},!1,!1,i=>{console.debug(`${r}delay: ${i}`)},i=>{console.debug(`${r}density: ${i}`)},i=>{console.debug(`${r}balance: ${i}`)},i=>{},i=>{console.debug(`${r}feedback: ${i}`)},i=>{}][a[0]+n]||function(){console.warn(`Unknown XG reverb address: ${a[0]}.`)})(c)})):a[0]<64?(r+="chorus ",a.subarray(1).forEach((c,n)=>{([i=>{e.setEffectTypeRaw(1,!1,i),console.info(`${r}main type: ${Ge[i]}`),e.dispatchEvent("efxchorus",e.getEffectType(1))},i=>{e.setEffectTypeRaw(1,!0,i),console.debug(`${r}sub type: ${i+1}`),e.dispatchEvent("efxchorus",e.getEffectType(1))},i=>{console.debug(`${r}LFO: ${dt[i]}Hz`)},i=>{},i=>{console.debug(`${r}feedback: ${i}`)},i=>{console.debug(`${r}delay offset: ${pt(i)}ms`)},i=>{},i=>{console.debug(`${r}low: ${De[i]}Hz`)},i=>{console.debug(`${r}low: ${i-64}dB`)},i=>{console.debug(`${r}high: ${De[i]}Hz`)},i=>{console.debug(`${r}high: ${i-64}dB`)},i=>{console.debug(`${r}dry/wet: ${i}`)},i=>{console.debug(`${r}send: ${X(i)}dB`)},i=>{console.debug(`${r}pan: ${i-64}`)},i=>{console.debug(`${r}to reverb: ${X(i)}dB`)},!1,i=>{},i=>{},i=>{},i=>{console.debug(`${r}LFO phase diff: ${(i-64)*3}deg`)},i=>{console.debug(`${r}input mode: ${i?"stereo":"mono"}`)},i=>{}][a[0]-32+n]||function(){console.warn(`Unknown XG chorus address: ${a[0]}.`)})(c)})):a[0]<86?(r+="variation ",a.subarray(1).forEach((c,n)=>{([i=>{e.setEffectTypeRaw(2,!1,i),console.info(`${r}main type: ${Ge[i]}`),e.dispatchEvent("efxdelay",e.getEffectType(2))},i=>{e.setEffectTypeRaw(2,!0,i),console.debug(`${r}sub type: ${i+1}`),e.dispatchEvent("efxdelay",e.getEffectType(2))}][a[0]-64+n]||function(){})(c)})):a[0]<97?(r+="variation ",a.subarray(1).forEach((c,n)=>{[i=>{console.debug(`${r}send: ${X(i)}dB`)},i=>{console.debug(`${r}pan: ${i-64}`)},i=>{console.debug(`${r}to reverb: ${X(i)}dB`)},i=>{console.debug(`${r}to chorus: ${X(i)}dB`)},i=>{console.debug(`${r}connection: ${i?"system":"insertion"}`)},i=>{console.debug(`${r}channel: CH${i+1}`)},i=>{console.debug(`${r}mod wheel: ${i-64}`)},i=>{console.debug(`${r}bend wheel: ${i-64}`)},i=>{console.debug(`${r}channel after touch: ${i-64}`)},i=>{console.debug(`${r}AC1: ${i-64}`)},i=>{console.debug(`${r}AC2: ${i-64}`)}][a[0]-86+n](c)})):a[0]>111&&a[0]<118?r+="variation ":console.warn(`Unknown XG variation address: ${a[0]}`)}).add([76,2,64],a=>{a.subarray(1).forEach((r,c)=>{let n=c+a[0];if(n==0)console.debug(`XG EQ preset: ${["flat","jazz","pop","rock","classic"][r]}`);else{let i=n-1>>2,o=n-1&3,h=`XG EQ ${i} ${["gain","freq","Q","shape"][o]}: `;[()=>{console.debug(`${h}${r-64}dB`)},()=>{console.debug(`${h}${r} (raw)`)},()=>{console.debug(`${h}${r/10}`)},()=>{console.debug(`${h}${["shelf","peak"][+!!r]}`)}][o]()}})}).add([76,3],a=>{let r=a[0],c=a[1],n=`XG Insertion ${a[0]+1} `;a.subarray(2).forEach((i,o)=>{([h=>{e.setEffectTypeRaw(3+r,!1,h),console.info(`${n}main type: ${Ge[h]}`),e.dispatchEvent(`efxinsert${r}`,e.getEffectType(3+r))},h=>{e.setEffectTypeRaw(3+r,!0,h),console.debug(`${n}sub type: ${h+1}`),e.dispatchEvent(`efxinsert${r}`,e.getEffectType(3+r))}][c+o]||function(){})(i)})}).add([76,6,0],a=>{let r=a[0];r<64?e.setLetterDisplay(a.subarray(1),"XG letter display",r):E(e,$e,Date.now())}).add([76,7,0],a=>{let r=a[0];E(e,K,0),E(e,ae,Date.now()+3200),t(e,Q,ce).fill(0);let c=a.subarray(1);for(let n=0;n<r;n++)c.unshift(0);c.forEach(function(n,i){let o=Math.floor(i/16),h=i%16,l=(h*3+o)*7,g=7,$=0;for(l-=h*5,o==2&&(g=2);$<g;)t(e,Q,ce)[l+$]=n>>6-$&1,$++})}).add([76,8],(a,r)=>{let c=e.chRedir(a[0],r,!0),n=a[1],i=y.cc*c,o=`XG CH${c+1} `,h=`Unknown XG part address ${n}.`;a.subarray(2).forEach((l,g)=>{n<1?console.debug(h):n<41?([()=>{t(e,u)[i+p[0]]=l},()=>{t(e,u)[i+p[32]]=l},()=>{t(e,R)[c]=l},()=>{let $=e.chRedir(l,r,!0);t(e,H)[c]=$,c!=$&&(e.buildRchTree(),console.info(`${o}receives from CH${$+1}`))},()=>{t(e,q)[c]=+!l},()=>{},()=>{e.setChType(c,l,v.xg),console.debug(`${o}type: ${Ie[l]||l}`)},()=>{t(e,x)[y.rpn*c+3]=l},!1,!1,()=>{t(e,u)[i+p[7]]=l},!1,!1,()=>{t(e,u)[i+p[10]]=l||128},!1,!1,()=>{t(e,u)[i+p[128]]=l},()=>{t(e,u)[i+p[93]]=l},()=>{t(e,u)[i+p[91]]=l},()=>{t(e,u)[i+p[94]]=l},()=>{t(e,u)[i+p[76]]=l},()=>{t(e,u)[i+p[77]]=l},()=>{t(e,u)[i+p[78]]=l},()=>{t(e,u)[i+p[74]]=l},()=>{t(e,u)[i+p[71]]=l},()=>{t(e,u)[i+p[73]]=l},()=>{t(e,u)[i+p[75]]=l},()=>{t(e,u)[i+p[72]]=l}][n+g-1]||(()=>{}))():n<48?console.debug(h):n<111?n>102&&n<105&&(t(e,u)[i+p[[5,65][n&1]]]=l):n<114?console.debug(h):n<116?console.debug(`${o}EQ ${["bass","treble"][n&1]} gain: ${l-64}dB`):n<118?console.debug(h):n<120?console.debug(`${o}EQ ${["bass","treble"][n&1]} freq: ${l}`):console.debug(h)})}).add([76,9],(a,r)=>{let c=e.chRedir(a[0],r,!0),n=a[1],i=`PLG-150VL CH${c+1} `;a.subarray(2).forEach((o,h)=>{let l=h+n;switch(l){case 1:{console.info(`${i}breath mode: ${["system","breath","velocity","touch EG"][o]}`);break}case 0:case 27:case 28:break;default:if(l<27){let g=["pressure","embouchure","tonguing","scream","breath noise","growl","throat formant","harmonic enhancer","damping","absorption","amplification","brightness"][l-3>>1];l&1?l<23?(console.debug(`${i}${g} control source: ${yt(o)}`),o&&o<96&&e.allocateAce(o)):console.debug(`${i}${g} scale break point: ${o}`):console.debug(`${i}${g} depth: ${o-64}`)}}})}).add([76,10],a=>{}).add([76,16],a=>{}).add([76,17,0,0],a=>{}).add([76,112],a=>{console.debug(`XG enable PLG-1${["50VL","00SG","50DX"][a[0]]} for CH${a[2]+1}.`)}).add([73,0,0],(a,r)=>{let c=a[0],n="MU1000 System: ";a.subarray(1).forEach((i,o)=>{let h=c+o;h==8?console.debug(`${n}LCD contrast set to ${i}.`):h==18?(E(e,j,i?126:0),console.debug(`${n}bank defaults to ${i?"MU100 Native":"MU Basic"}.`)):h>=64&&h<69&&[()=>{e.dispatchEvent("channelactive",i)},()=>{i<8?(e.dispatchEvent("channelmin",i<<4),console.debug(`Octavia System: Minimum CH${(i<<4)+1}`)):(e.dispatchEvent("channelreset"),console.info("Octavia System: Clear channel ranges"))},()=>{i<8?(e.dispatchEvent("channelmax",(i<<4)+15),console.debug(`Octavia System: Maximum CH${(i<<4)+16}`)):(e.dispatchEvent("channelreset"),console.info("Octavia System: Clear channel ranges"))},()=>{e.dispatchEvent("channelreset"),console.info("Octavia System: Clear channel ranges")},()=>{E(e,Z,!!i),console.info(`Octavia System: RS receiving ${["dis","en"][i]}abled.`)}][h-64]()})}).add([73,10,0],(a,r)=>{let c=a[0],n=`MU1000 RS${t(e,Z)?"":" (ignored)"}: `;if(c<16)switch(c){case 2:{let i=e.chRedir(0,r,!0);t(e,Z)&&(e.dispatchEvent("channelmin",i),e.dispatchEvent("channelmax",i+63)),console.info(`${n}Show CH1~64`);break}case 3:{let i=e.chRedir(a[1]<<5,r,!0);t(e,Z)&&e.dispatchEvent("channelmin",i),t(e,Z)&&e.dispatchEvent("channelmax",i+31),console.info(`${n}Show CH${i+1}~CH${i+32}`);break}default:console.debug(`${n}unknown switch ${c} invoked.`)}else if(c<32){if(t(e,Z)){let i=e.chRedir(c-16+(t(e,Ne)<<4),r,!0);e.dispatchEvent("channelactive",i)}}else if(c<36){let i=e.chRedir(c-32<<4,r,!0);t(e,Z)&&(e.dispatchEvent("channelmin",i),e.dispatchEvent("channelmax",i+15),E(e,Ne,c-32)),console.info(`${n}Show CH${i+1}~CH${i+16}`)}}).add([93,3],(a,r)=>{let c=e.chRedir(a[0],r,!0),n=`PLG-100SG CH${c+1} `,i=Date.now();if(a[1]==0){let o="",h=0;a.subarray(2).forEach((l,g)=>{g%2==0?o+=bt[l]||l.toString().padStart("0"):h+=l*13}),i>=t(e,He)&&this.dispatchEvent("metacommit",{type:"SGLyrics",data:"",amend:!1}),this.dispatchEvent("metacommit",{type:"SGLyrics",data:`${gt(o)}`,amend:!0}),E(e,He,i+Math.ceil(h/2)+t(e,Le)),F()&&console.debug(`${n}vocals: ${o}`)}else console.warn(`Unknown PLG-100SG data: ${a}`)}),t(this,W).add([76,48],a=>{}).add([76,49],a=>{}).add([76,50],a=>{}).add([76,51],a=>{}),t(this,W).add([89,0],(a,r,c)=>{if(e.eprom){let n=a[0],i=(a[1]<<14)+(a[2]<<7)+a[3]+(e.eprom.offset||0);F()&&console.debug(`MU1000 EPROM trail to 0x${i.toString(16).padStart(6,"0")}, ${n} bytes.`);let o=e.eprom.data;a.subarray(4).forEach((h,l)=>{let g=l>>3,$=l&7;if($==7)for(let w=0;w<7;w++)o[i+7*g+w]+=(h>>6-w&1)<<7;else o[i+7*g+$]=h})}}).add([89,1],(a,r,c)=>{let n=(a[0]<<21)+(a[1]<<14)+(a[2]<<7)+a[3];F()&&console.debug(`MU1000 EPROM jump to 0x${n.toString(16).padStart(6,"0")}.`),e.eprom&&(e.eprom.offset=n)}).add([89,2],(a,r,c)=>{if(e.eprom){let n=(a[0]<<21)+(a[1]<<14)+(a[2]<<7)+a[3]+(e.eprom.offset||0);F()&&console.debug(`MU1000 EPROM write to 0x${n.toString(16).padStart(6,"0")}.`);let i=e.eprom.data;a.subarray(4).forEach((o,h)=>{let l=h>>3,g=h&7;if(g==7)for(let $=0;$<7;$++)i[n+7*l+$]+=(o>>6-$&1)<<7;else i[n+7*l+g]=o})}}).add([89,3],(a,r,c)=>{}),t(this,W).add([39,48],(a,r,c)=>{}).add([43,0,0],(a,r,c)=>{let n=[0,0,0,0],i=(o,h)=>{n[h]=o};if(a.subarray(1).forEach((o,h)=>{let l=h+a[0];[i,i,i,i,()=>{E(this,O,o*129/16383*100),e.dispatchEvent("mastervolume",t(e,O))},()=>o-64,()=>o||128,()=>o,()=>o,()=>{console.debug(`TG300 variation on cc${o}.`)}][l](o,l)}),a[0]<4){let o=0;n.forEach(h=>{o=o<<4,o+=h}),o-=1024}}).add([43,1,0],(a,r,c)=>{}).add([43,2],(a,r,c)=>{let n=e.chRedir(a[0],r,!0),i=a[1],o=y.cc*n,h=`TG300 CH${n+1} `;a.subarray(2).forEach((l,g)=>{g<5?([()=>{},()=>{t(e,u)[o+p[0]]=l},()=>{t(e,u)[o+p[32]]=l},()=>{t(e,R)[n]=l},()=>{let $=e.chRedir(l,r,!0);t(e,H)[n]=$,n!=$&&(e.buildRchTree(),console.info(`${h}receives from CH${$+1}`))}][g+i]||(()=>{}))(l,g+i):g<21||(g<47?([()=>{t(e,q)[n]=+!l},()=>{},()=>{},()=>{t(e,x)[y.rpn*n+3]=l},()=>{},()=>{t(e,u)[o+p[7]]=l},!1,!1,()=>{t(e,u)[o+p[10]]=l||128},!1,!1,()=>{console.debug(`${h} AC1 at cc${l}`)},()=>{console.debug(`${h} AC2 at cc${l}`)},()=>{t(e,u)[o+p[128]]=l},()=>{t(e,u)[o+p[93]]=l},()=>{t(e,u)[o+p[91]]=l},()=>{t(e,u)[o+p[94]]=l},()=>{t(e,u)[o+p[76]]=l},()=>{t(e,u)[o+p[77]]=l},()=>{t(e,u)[o+p[74]]=l},()=>{t(e,u)[o+p[71]]=l},()=>{t(e,u)[o+p[73]]=l},()=>{t(e,u)[o+p[75]]=l},()=>{t(e,u)[o+p[72]]=l},()=>{t(e,u)[o+p[78]]=l}][g+i-21]||(()=>{}))(l,g+i):g<95||([()=>{t(e,u)[o+p[65]]=l},()=>{t(e,u)[o+p[5]]=l}][g+i-95]||(()=>{}))(l,g+i))})}).add([43,7,0],(a,r,c)=>{let n=a[0];e.setLetterDisplay(a.subarray(1),"TG300 letter display",n)}).add([43,7,1],(a,r,c)=>{E(e,K,0),E(e,ae,Date.now()+3200),t(e,Q,ce).fill(0),a.forEach(function(n,i){let o=Math.floor(i/16),h=i%16,l=(h*3+o)*7,g=7,$=0;for(l-=h*5,o==2&&(g=2);$<g;)t(e,Q,ce)[l+$]=n>>6-$&1,$++})}),t(this,Y).add([66,18,0,0,127],(a,r,c)=>{e.switchMode("gs",!0),t(e,u)[y.cc*9]=120,t(e,u)[y.cc*25]=120,t(e,u)[y.cc*41]=120,t(e,u)[y.cc*57]=120,E(e,j,3),E(e,D,!1),t(e,fe).fill(0),console.info(`GS system to ${["single","dual"][a[0]]} mode.`)}).add([66,18,64,0],(a,r,c)=>{switch(a[0]){case 127:{e.switchMode("gs",!0),t(e,u)[y.cc*9]=120,t(e,u)[y.cc*25]=120,t(e,u)[y.cc*41]=120,t(e,u)[y.cc*57]=120,E(e,D,!1),t(e,fe).fill(0),console.info("MIDI reset: GS");break}default:{let n=[0,0,0,0],i=(o,h)=>{n[h]=o};if(a.subarray(1).forEach((o,h)=>{let l=h+a[0];[i,i,i,i,g=>{E(this,O,g*129/16383*100),e.dispatchEvent("mastervolume",t(e,O))},g=>{},g=>{}][l](o,h)}),a[0]<4){let o=0;n.forEach(h=>{o=o<<4,o+=h}),o-=1024}}}}).add([66,18,64,1],a=>{let r=a[0];if(r<16){let c="".padStart(r," ");a.subarray(1).forEach((n,i)=>{c+=String.fromCharCode(Math.max(32,n))}),c=c.padEnd(16," "),console.debug(`GS patch name: ${c}`)}else r<48||(r<65?a.subarray(1).forEach((c,n)=>{let i=`GS ${r+n>55?"chorus":"reverb"} `;([()=>{console.info(`${i}type: ${Je[c]}`),e.setEffectType(0,40,c),e.dispatchEvent("efxreverb",e.getEffectType(0))},()=>{},()=>{},()=>{},()=>{},()=>{},!1,()=>{console.debug(`${i}predelay: ${c}ms`)},()=>{console.info(`${i}type: ${$t[c]}`),e.setEffectType(1,40,16+c),e.dispatchEvent("efxchorus",e.getEffectType(1))},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{console.debug(`${i}to reverb: ${X(c)}`)},()=>{console.debug(`${i}to delay: ${X(c)}`)}][r+n-48]||(()=>{}))()}):r<80?console.debug(`Unknown GS patch address: ${r}`):r<91?a.subarray(1).forEach((c,n)=>{let i="GS delay ";([()=>{console.info(`${i}type: ${Et[c]}`),e.setEffectType(2,40,32+c),e.dispatchEvent("efxdelay",e.getEffectType(2))},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{console.debug(`${i}to reverb: ${X(c)}`)}][r+n-80]||(()=>{}))()}):console.debug(`Unknown GS patch address: ${r}`))}).add([66,18,64,2],a=>{let r="GS EQ ";a.subarray(1).forEach((c,n)=>{([()=>{console.debug(`${r}low freq: ${[200,400][c]}Hz`)},()=>{console.debug(`${r}low gain: ${c-64}dB`)},()=>{console.debug(`${r}high freq: ${[3e3,6e3][c]}Hz`)},()=>{console.debug(`${r}high gain: ${c-64}dB`)}][a[0]+n]||function(){console.warn(`Unknown GS EQ address: ${a[0]+n}`)})()})}).add([66,18,64,3],a=>{let r="GS EFX ",c=function(n,i){let o=mt(t(e,V).subarray(10,12),i,n);o&&console.debug(`${r}${Ze(t(e,V).subarray(10,12))} ${o}`)};a.subarray(1).forEach((n,i)=>{([()=>{e.setEffectTypeRaw(3,!1,32+n),e.dispatchEvent("efxinsert0",e.getEffectType(3))},()=>{e.setEffectTypeRaw(3,!0,n),console.info(`${r}type: ${Ze(t(e,V).subarray(10,12))}`),e.dispatchEvent("efxinsert0",e.getEffectType(3))},!1,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,()=>{console.debug(`${r}to reverb: ${X(n)}dB`)},()=>{console.debug(`${r}to chorus: ${X(n)}dB`)},()=>{console.debug(`${r}to delay: ${X(n)}dB`)},!1,()=>{console.debug(`${r}1 source: ${n}`),n&&n<96&&e.allocateAce(n)},()=>{console.debug(`${r}1 depth: ${n-64}`)},()=>{console.debug(`${r}2 source: ${n}`),n&&n<96&&e.allocateAce(n)},()=>{console.debug(`${r}2 depth: ${n-64}`)},()=>{console.debug(`${r}to EQ: ${n?"ON":"OFF"}`)}][a[0]+i]||function(o,h){console.warn(`Unknown GS EFX address: ${h}`)})(n,a[0]+i)})}).add([66,18,65],a=>{}).add([69,18,16],a=>{var r;switch(a[0]){case 0:{let c=a[1];e.setLetterDisplay(a.subarray(2),"GS display text",c);break}case 32:{E(e,ae,Date.now()+3200),a[1]==0&&E(e,K,Math.max(Math.min(a[2]-1,9),0));break}default:if(a[0]<11){t(e,K)>9&&E(e,K,0),E(e,ae,Date.now()+3200),(r=t(e,oe)[a[0]-1])!=null&&r.length||(t(e,oe)[a[0]-1]=new Uint8Array(256));let c=t(e,oe)[a[0]-1],n=a[1];c.fill(0);let i=a.subarray(2);for(let o=0;o<n;o++)i.unshift(0);i.forEach(function(o,h){let l=Math.floor(h/16),g=h%16,$=(g*4+l)*5,w=5,k=0;for($-=g*4,l==3&&(w=1);k<w;)c[$+k]=o>>4-k&1,k++})}else console.warn(`Unknown GS display section: ${a[0]}`)}});let f=function(a,r,c){let n=a[0],i=y.cc*r,o=y.rpn*r,h=`GS CH${r+1} `;n<3?a.subarray(1).forEach((l,g)=>{[()=>{t(e,u)[i+p[0]]=l},()=>{t(e,R)[r]=l},()=>{let $=e.chRedir(l,c,!0);t(e,H)[r]=$,r!=$&&(e.buildRchTree(),console.info(`${h}receives from CH${$+1}`))}][n+g]()}):n<19||(n<44?a.subarray(1).forEach((l,g)=>{([()=>{t(e,q)[r]=+!l},!1,()=>{e.setChType(r,l<<1,v.gs),console.debug(`${h}type: ${l?"drum ":"melodic"}${l||""}`)},()=>{t(e,x)[o+3]=l},!1,()=>{t(e,u)[i+p[7]]=l},!1,!1,()=>{t(e,u)[i+p[10]]=l||128},!1,!1,()=>{console.debug(`${h}CC 1: cc${l}`)},()=>{console.debug(`${h}CC 2: cc${l}`)},()=>{t(e,u)[i+p[93]]=l},()=>{t(e,u)[i+p[91]]=l},!1,!1,()=>{t(e,x)[o+1]=l},()=>{t(e,x)[o+2]=l},()=>{t(e,u)[i+p[94]]=l}][n+g-19]||(()=>{}))()}):n<76||console.debug(`Unknown GS part address: ${n}`))},d=function(a,r){let c=a[0],n=`GS CH${r+1} `;c<2?a.subarray(1).forEach((i,o)=>{[()=>{t(e,u)[y.cc*r+p[32]]=i},()=>{}][c+o]()}):c<32?console.warn(`Unknown GS misc address: ${c}`):c<35?a.subarray(1).forEach((i,o)=>{[()=>{console.debug(`${n}EQ: o${["ff","n"][i]}`)},()=>{},()=>{console.debug(`${n}EFX: o${["ff","n"][i]}`),t(e,Ae)[r]=i}][c+o-32]()}):console.warn(`Unknown GS misc address: ${c}`)};t(this,Y).add([66,18,64,16],(a,r)=>{f(a,e.chRedir(9,r,!0),r)}).add([66,18,64,17],(a,r)=>{f(a,e.chRedir(0,r,!0),r)}).add([66,18,64,18],(a,r)=>{f(a,e.chRedir(1,r,!0),r)}).add([66,18,64,19],(a,r)=>{f(a,e.chRedir(2,r,!0),r)}).add([66,18,64,20],(a,r)=>{f(a,e.chRedir(3,r,!0),r)}).add([66,18,64,21],(a,r)=>{f(a,e.chRedir(4,r,!0),r)}).add([66,18,64,22],(a,r)=>{f(a,e.chRedir(5,r,!0),r)}).add([66,18,64,23],(a,r)=>{f(a,e.chRedir(6,r,!0),r)}).add([66,18,64,24],(a,r)=>{f(a,e.chRedir(7,r,!0),r)}).add([66,18,64,25],(a,r)=>{f(a,e.chRedir(8,r,!0),r)}).add([66,18,64,26],(a,r)=>{f(a,e.chRedir(10,r,!0),r)}).add([66,18,64,27],(a,r)=>{f(a,e.chRedir(11,r,!0),r)}).add([66,18,64,28],(a,r)=>{f(a,e.chRedir(12,r,!0),r)}).add([66,18,64,29],(a,r)=>{f(a,e.chRedir(13,r,!0),r)}).add([66,18,64,30],(a,r)=>{f(a,e.chRedir(14,r,!0),r)}).add([66,18,64,31],(a,r)=>{f(a,e.chRedir(15,r,!0),r)}).add([66,18,64,64],(a,r)=>{d(a,e.chRedir(9,r,!0))}).add([66,18,64,65],(a,r)=>{d(a,e.chRedir(0,r,!0))}).add([66,18,64,66],(a,r)=>{d(a,e.chRedir(1,r,!0))}).add([66,18,64,67],(a,r)=>{d(a,e.chRedir(2,r,!0))}).add([66,18,64,68],(a,r)=>{d(a,e.chRedir(3,r,!0))}).add([66,18,64,69],(a,r)=>{d(a,e.chRedir(4,r,!0))}).add([66,18,64,70],(a,r)=>{d(a,e.chRedir(5,r,!0))}).add([66,18,64,71],(a,r)=>{d(a,e.chRedir(6,r,!0))}).add([66,18,64,72],(a,r)=>{d(a,e.chRedir(7,r,!0))}).add([66,18,64,73],(a,r)=>{d(a,e.chRedir(8,r,!0))}).add([66,18,64,74],(a,r)=>{d(a,e.chRedir(10,r,!0))}).add([66,18,64,75],(a,r)=>{d(a,e.chRedir(11,r,!0))}).add([66,18,64,76],(a,r)=>{d(a,e.chRedir(12,r,!0))}).add([66,18,64,77],(a,r)=>{d(a,e.chRedir(13,r,!0))}).add([66,18,64,78],(a,r)=>{d(a,e.chRedir(14,r,!0))}).add([66,18,64,79],(a,r)=>{d(a,e.chRedir(15,r,!0))}),t(this,he).add([54,65],(a,r)=>{e.switchMode("x5d");let c=(a[1]<<7)+a[0],n=(a[3]<<7)+a[2],i=e.chRedir(c&15,r,!0),o=y.cc*i;[()=>{n<1||(n<101?(e.setChType(i,e.CH_MELODIC,v.x5d),t(e,R)[i]=n-1,t(e,u)[o+p[0]]=82):n<229?(e.setChType(i,e.CH_MELODIC,v.x5d),t(e,R)[i]=n-101,t(e,u)[o+p[0]]=56):(e.setChType(i,e.CH_DRUMS,v.x5d),t(e,R)[i]=xt[n-229]||0,t(e,u)[o+p[0]]=62))},()=>{t(e,u)[o+p[7]]=n},()=>{n<31&&(t(e,u)[o+p[10]]=Math.round((n-15)*4.2+64))},()=>{t(e,u)[o+p[93]]=_e(n)},()=>{t(e,u)[o+p[91]]=_e(n)},()=>{t(e,x)[i*y.rpn+3]=n>8191?n-16320:64+n},()=>{t(e,x)[i*y.rpn+1]=n>8191?n-16320:64+n},()=>{n>0&&(t(e,x)[i*y.rpn]=n)},()=>{}][c>>4]()}).add([54,76,0],(a,r)=>{e.switchMode("x5d",!0);let c="",n=82,i=0,o=0,h="MSB	PRG	LSB	NME";te(a,function(l,g){if(g<16400){let $=g%164;switch(!0){case $<10:{l>31&&(c+=String.fromCharCode(l));break}case $==11:{h+=`
${n}	${i}	${o}	${c.trim().replace("Init Voice","")}`,i++,c="";break}}i>99&&(n=90,i=0)}}),e.userBank.clearRange({msb:82,prg:[0,99],lsb:0}),e.userBank.load(h)}).add([54,77,0],(a,r)=>{e.switchMode("x5d",!0);let c="",n=90,i=0,o=0,h="MSB	PRG	LSB	NME";te(a,function(l,g){if(g<13600){let $=g%136;switch(!0){case $<10:{l>31&&(c+=String.fromCharCode(l));break}case $==11:{h+=`
${n}	${i}	${o}	${c.trim().replace("Init Combi","")}`,i++,c="";break}}}}),e.userBank.clearRange({msb:90,prg:[0,99],lsb:0}),e.userBank.load(h)}).add([54,78],(a,r)=>{e.switchMode("x5d",!0),console.debug(`X5D mode switch requested: ${["combi","combi edit","prog","prog edit","multi","global"][a[0]]} mode.`)}).add([54,85],(a,r)=>{e.switchMode("x5d",!0),te(a,(c,n)=>{n>0&&n<3&&(e.setEffectType(n-1,44,c),e.dispatchEvent(`efx${["reverb","chorus"][n-1]}`,e.getEffectType(n-1)))})}).add([54,104],(a,r)=>{e.switchMode("x5d",!0),te(a,function(c,n,i,o){if(n<192){let h=e.chRedir(Math.floor(n/12),r,!0),l=h*y.cc;switch(n%12){case 0:{c<128?(e.setChType(h,e.CH_MELODIC,v.x5d),t(e,u)[l+p[0]]=82,t(e,R)[h]=c):(e.setChType(h,e.CH_DRUMS,v.x5d),t(e,u)[l+p[0]]=62,t(e,R)[h]=xt[c-128]),c>0&&(t(e,U)[h]=1);break}case 1:{t(e,u)[l+p[7]]=c;break}case 2:{t(e,x)[h*y.rpn+3]=c>127?c-192:64+c;break}case 3:{t(e,x)[h*y.rpn+1]=c>127?c-192:64+c;break}case 4:{c<31&&(t(e,u)[l+p[10]]=Math.round((c-15)*4.2+64));break}case 5:{let g=c>>4,$=c&15;t(e,u)[l+p[91]]=_e($),t(e,u)[l+p[93]]=_e(g);break}case 10:break;case 11:{let g=e.chRedir(c&15,r,!0),$=c>>4;t(e,H)[h]=c,(g!=h||$)&&(console.info(`X5D Part CH${h+1} receives from CH${g+1}.`),e.buildRchTree())}}}else{let h=e.chRedir(n-192,r,!0)}})}),t(this,Y).add([22,18,127],a=>{e.switchMode("mt32",!0),E(e,D,!1),e.userBank.clearRange({msb:0,lsb:127,prg:[0,127]}),console.info("MIDI reset: MT-32")}).add([22,18,0],(a,r,c)=>{e.switchMode("mt32");let n=e.chRedir(c,r,!0),i=a[1];a.subarray(2).forEach((o,h)=>{let l=h+i;t(e,be)[l+(n-1)*16]=o,([!1,()=>{let g=t(e,be)[n-1<<4];if(g<3)if(t(e,se)[n]=1,g==2)for(let $=0;$<name.length;$++)t(e,J)[(n-1)*y.cmt+$]=t(e,ge)[o*y.cmt+$];else{let $=e.baseBank.get(0,o+(g<<6),127,"mt32").name;for(let w=0;w<$.length;w++)t(e,J)[(n-1)*y.cmt+w]=$.charCodeAt(w)}},()=>{t(e,x)[n*y.rpn+3]=o+40},()=>{t(e,x)[n*y.rpn+1]=o+14},()=>{t(e,x)[n*y.rpn]=o},!1,()=>{t(e,u)[y.cc*n+p[91]]=o?127:0},!1,()=>{t(e,u)[y.cc*n+p[7]]=o},()=>{t(e,u)[y.cc*n+p[10]]=Math.ceil(o*9.05)}][l]||(()=>{}))()})}).add([22,18,1],(a,r,c)=>{e.switchMode("mt32");let n=e.chRedir(c,r,!0)}).add([22,18,2],(a,r,c)=>{e.switchMode("mt32");let n=e.chRedir(c,r,!0),i=a[1]+(a[0]<<7);i<10&&(t(e,se)[n]=1),a.subarray(2).forEach((o,h)=>{let l=h+i;l<14&&(t(e,J)[(n-1)*y.cmt+l]=o)})}).add([22,18,3],(a,r,c)=>{if(e.switchMode("mt32"),a[0]){let n=a[1]-16}else{let n=a[1];a.subarray(2).forEach((i,o)=>{let h=o+n;t(e,be)[h]=i;let l=e.chRedir(1+h>>4,r,!0),g=h&15;([!1,()=>{let $=t(e,be)[l-1<<4];if($<3)if(t(e,se)[l]=1,$==2)for(let w=0;w<name.length;w++)t(e,J)[(l-1)*y.cmt+w]=t(e,ge)[i*y.cmt+w];else{let w=e.baseBank.get(0,i+($<<6),127,"mt32").name;for(let k=0;k<w.length;k++)t(e,J)[(l-1)*y.cmt+k]=w.charCodeAt(k)}},()=>{t(e,x)[l*y.rpn+3]=i+40},()=>{t(e,x)[l*y.rpn+1]=i+14},()=>{t(e,x)[l*y.rpn]=i},!1,()=>{t(e,u)[y.cc*l+p[91]]=i?127:0},!1,()=>{t(e,u)[y.cc*l+p[7]]=i},()=>{t(e,u)[y.cc*l+p[10]]=Math.ceil(i*9.05)}][g]||(()=>{}))()})}}).add([22,18,4],(a,r,c)=>{e.switchMode("mt32");let n=a[1]+(a[0]<<7);a.subarray(2).forEach((i,o)=>{let h=o+n,l=e.chRedir(Math.floor(h/246+1),r,!0),g=h%246;g<14&&(t(e,J)[(l-1)*y.cmt+g]=i),g<10&&(t(e,se)[l]=1)})}).add([22,18,5],(a,r,c)=>{e.switchMode("mt32");let n=(a[0]<<7)+a[1];a.subarray(2).forEach((i,o)=>{let h=n+o,l=Math.floor(h/8),g=h&7,$=l*8;t(e,Pe)[h]=i,([!1,()=>{let w=t(e,Pe)[$];if(w<3){let k="";if(w==2){let S=y.cmt*l;k=`MT-m:${i.toString().padStart(3,"0")}`}else k=e.baseBank.get(0,i+(w<<6),127,"mt32").name;e.userBank.clearRange({msb:0,lsb:127,prg:l}),e.userBank.load(`MSB	LSB	PRG	NME
000	127	${l}	${k}`,!0)}}][g]||(()=>{}))()})}).add([22,18,8],(a,r,c)=>{e.switchMode("mt32");let n=((a[0]&1)<<7)+a[1];a.subarray(2).forEach((i,o)=>{let h=n+o;h<y.cmt&&(t(e,ge)[(a[0]>>1)*y.cmt+h]=i)})}).add([22,18,16],(a,r,c)=>{e.switchMode("mt32");let n=a[1],i=!1,o=function(h,l){t(e,H)[l-12]=h,i=!0};a.subarray(2).forEach((h,l)=>{let g=l+n;([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,o,o,o,o,o,o,o,o,o,()=>{E(e,O,h),e.dispatchEvent("mastervolume",t(e,O))}][g]||(()=>{}))(h,l)}),i&&e.buildRchTree()}).add([22,18,32],a=>{e.switchMode("mt32");let r=a[1],c=" ".repeat(r);a.subarray(2).forEach(n=>{n>31&&(c+=String.fromCharCode(n))}),E(e,ie,c.padStart(20," ")),E(e,$e,Date.now()+3200)}).add([22,18,82],(a,r)=>{let c=e.chRedir(0,r,!0);for(let n=0;n<16;n++)t(e,L).ano(c+n),n&&n<10&&(t(e,R)[c+n]=et[n-1]);console.info("MT-32 alt reset complete.")}),t(this,he).add([66,0],(a,r)=>{e.switchMode("ns5r",!0),E(e,D,!1),console.debug(`NS5R mode switch requested: ${["global","multi","prog edit","comb edit","drum edit","effect edit"][a[0]]} mode.`)}).add([66,1],(a,r)=>{e.switchMode(["ns5r","05rw"][a[0]],!0),E(e,D,!1)}).add([66,18,0,0],(a,r)=>{let c=a[0];switch(c){case 124:case 126:case 127:{e.switchMode("ns5r",!0),E(e,D,!1);break}case 125:{console.info(`NS5R drum setup reset: ${a}`);break}default:if(c<10){let n=[0,0,0,0],i=(o,h)=>{n[h]=o};if(a.subarray(1).forEach((o,h)=>{[i,i,i,i,()=>{E(e,O,o*129/16383*100),e.dispatchEvent("mastervolume",t(e,O))},()=>o-64,()=>o-64,()=>{},()=>{},()=>{}][c+h]()}),a[0]<4){let o=0;n.forEach(h=>{o=o<<4,o+=h}),o-=1024}}}}).add([66,18,0,1],(a,r)=>{}).add([66,18,0,2],(a,r)=>{}).add([66,18,1],(a,r)=>{let c=e.chRedir(a[0],r,!0),n=c*y.cc,i=a[1],o=`NS5R CH${c+1} `;a.subarray(2).forEach((h,l)=>{let g=i+l;g<3?[()=>{t(e,u)[n+p[0]]=h||121},()=>{t(e,u)[n+p[32]]=h},()=>{t(e,R)[c]=h}][g]():g<8||(g<14?[()=>{let $=e.chRedir(h,r,!0);t(e,H)[c]=$,c!=$&&(e.buildRchTree(),console.info(`${o}receives from CH${$+1}`))},()=>{t(e,q)[c]=+!h},()=>{e.setChType(c,h,v.ns5r),console.debug(`${o}type: ${Ie[h]}`)},()=>{t(e,x)[y.rpn*c+3]=h},()=>{},()=>{}][g-8]():g<16||(g<33?[()=>{t(e,u)[n+p[7]]=h},()=>{t(e,u)[n+p[11]]=h},()=>{},()=>{},()=>{t(e,u)[n+p[10]]=h||128},()=>{},()=>{},()=>{t(e,u)[n+p[93]]=h},()=>{t(e,u)[n+p[91]]=h},()=>{t(e,u)[n+p[76]]=h},()=>{t(e,u)[n+p[77]]=h},()=>{t(e,u)[n+p[78]]=h},()=>{t(e,u)[n+p[74]]=h},()=>{t(e,u)[n+p[71]]=h},()=>{t(e,u)[n+p[73]]=h},()=>{t(e,u)[n+p[75]]=h},()=>{t(e,u)[n+p[72]]=h}][g-16]():g<112||g<114&&[()=>{t(e,u)[n+p[5]]=h},()=>{t(e,u)[n+p[65]]=h}][g-112]()))})}).add([66,18,8,0],(a,r)=>{let c=a[0];if(c<32)e.setLetterDisplay(a.subarray(1,33),"NS5R letter display");else{let n=c-32;E(e,ae,Date.now()+3200),E(e,K,10),t(e,Q,ce).fill(0);let i=a.subarray(1),o=4;i.forEach(function(h,l){let g=l+n,$=g>>4,w=g&15;if(g<80){let k=$<o?h:h>>3,S=0,B=$<o?6:3;for(;k>0;)t(e,Q,ce)[w*32+$*7+(B-S)]=k&1,k=k>>1,S++}})}}).add([66,52],(a,r)=>{e.switchMode("ns5r",!0),E(e,D,!1);let c="";te(a,(n,i)=>{i<8?(n>31&&(c+=String.fromCharCode(n)),i==7&&(e.aiEfxName=c)):i<10&&(e.setEffectType(i-8,44,n),e.dispatchEvent(`efx${["reverb","chorus"][i-8]}`,e.getEffectType(i-8)))})}).add([66,53],(a,r)=>{e.switchMode("ns5r",!0),E(e,D,!1),te(a,function(c,n){switch(!0){case n<2944:{let i=e.chRedir(Math.floor(n/92),r,!0),o=i*y.cc;switch(n%92){case 0:{t(e,u)[o+p[0]]=c||121;break}case 1:{t(e,u)[o+p[32]]=c;break}case 2:{t(e,R)[i]=c,c>0&&(t(e,U)[i]=1);break}case 3:{let h=e.chRedir(c,r,!0);t(e,H)[i]=h,i!=h&&(console.info(`NS5R CH${i+1} receives from CH${h+1}.`),e.buildRchTree())}case 7:break;case 8:{t(e,x)[i*y.rpn+3]=c<40||c>88?c+(c>63?-192:64):c;break}case 9:case 10:{t(e,u)[o+p[7]]=c;break}case 11:{t(e,u)[o+p[11]]=c;break}case 14:{t(e,u)[o+p[10]]=c||128;break}case 19:{t(e,u)[o+p[93]]=c;break}case 20:{t(e,u)[o+p[91]]=c;break}case 84:{t(e,u)[o+p[65]]=c;break}case 85:{t(e,u)[o+p[5]]=c;break}}break}case n<3096:break;case n<3134:break;case n<8566:break}})}).add([66,54],(a,r)=>{e.switchMode("ns5r",!0);let c="",n=80,i=0,o=0,h="MSB	PRG	LSB	NME";te(a,function(l,g){let $=g%158;switch(!0){case $<10:{l>31&&(c+=String.fromCharCode(l));break}case $==11:{n=l&127;break}case $==12:{o=l&127;break}case $==13:{h+=`
${n}	${i}	${o}	${c.trim().replace("Init Voice","")}`,i++,c="";break}}}),e.userBank.clearRange({msb:80,lsb:0}),e.userBank.load(h)}).add([66,55],(a,r)=>{e.switchMode("ns5r",!0);let c="",n=88,i=0,o=0,h="MSB	PRG	LSB	NME";te(a,function(l,g){let $=g%126;switch(!0){case $<10:{l>31&&(c+=String.fromCharCode(l));break}case $==11:break;case $==12:break;case $==13:{h+=`
${n}	${i}	${o}	${c.trim().replace("Init Combi","")}`,i++,c="";break}}}),e.userBank.clearRange({msb:88,lsb:0}),e.userBank.load(h)}).add([66,125],a=>{e.dispatchEvent("backlight",["green","orange","red",!1,"yellow","blue","purple"][a[0]]||"white")}).add([66,127],a=>{let r=new Uint8Array(5760);te(a,(c,n,i)=>{if(n<720)for(let o=0;o<8;o++)r[n*8+o]=c>>7-o&1}),e.dispatchEvent("screen",{type:"ns5r",data:r})}).add([76],(a,r,c)=>{t(e,he).run([66,...a],r,c)}),t(this,Me).add([16,0,8,0],(a,r,c)=>{let n=(a[2]<<4)+a[3],i="K11 ";([()=>{e.switchMode("k11",!0),E(e,D,!1),E(e,j,n?4:0),console.info("MIDI reset: GMega/K11")},()=>{e.setEffectType(0,24,n),console.debug(`${i}reverb type: ${n}`),e.dispatchEvent("efxreverb",e.getEffectType(0))},()=>{console.debug(`${i}reverb time: ${n}`)},()=>{console.debug(`${i}reverb time: ${n}`)},()=>{console.debug(`${i}reverb predelay: ${n}`)},()=>{console.debug(`${i}reverb predelay: ${n}`)},()=>{console.debug(`${i}depth high: ${n}`)},()=>{console.debug(`${i}depth high: ${n}`)},()=>{console.debug(`${i}depth low: ${n}`)},()=>{console.debug(`${i}depth low: ${n}`)}][a[0]]||(()=>{}))()}).add([16,0,8,1],(a,r,c)=>{let n=e.chRedir(a[1],r,!0),i=y.cc*n,o=y.rpn*n,h=(a[3]<<4)+a[4],l=`K11 CH${n+1} `;([()=>{h<128?(e.setChType(n,e.CH_MELODIC,v.k11),t(e,u)[i+p[0]]=0,t(e,R)[n]=h):(e.setChType(n,e.CH_DRUMS,v.k11),t(e,R)[n]=h-128)},()=>{let g=e.chRedir(h,r,!0);t(e,H)[n]=g,n!=g&&(e.buildRchTree(),console.info(`${l}receives from CH${g+1}`))},()=>{t(e,u)[i+p[7]]=h},()=>{t(e,U)[n]=h},()=>{t(e,u)[i+p[10]]=h},()=>{t(e,x)[o+3]=h+40},()=>{t(e,x)[o+1]=h>>1,t(e,x)[o+2]=h&1},()=>{t(e,u)[i+p[91]]=h?127:0},()=>{},()=>{t(e,u)[i+p[74]]=h},()=>{t(e,u)[i+p[73]]=h},()=>{t(e,u)[i+p[72]]=h}][a[0]]||(()=>{}))()}).add([16,0,9,0],(a,r,c)=>{let n=(a[2]<<4)+a[3],i="GMLX ";([()=>{console.debug(`${i}reverb type: ${n}`)},()=>{console.debug(`${i}reverb time: ${n}`)},()=>{console.debug(`${i}reverb predelay: ${n}`)},()=>{console.debug(`${i}depth high: ${n}`)},()=>{console.debug(`${i}depth low: ${n}`)}][a[0]]||(()=>{}))()}).add([16,0,9,3],(a,r,c)=>{let n=(a[2]<<4)+a[3],i=e.chRedir(a[1],r,!0),o=i*y.cc;[()=>{n<128?(e.setChType(i,e.CH_MELODIC,v.k11),t(e,u)[o+p[0]]=0,t(e,u)[o+p[32]]=0,t(e,R)[i]=n):n<160?(e.setChType(i,e.CH_MELODIC,v.k11),t(e,u)[o+p[0]]=0,t(e,u)[o+p[32]]=7,t(e,R)[i]=n-100):(e.setChType(i,e.CH_DRUMS,v.k11),t(e,u)[o+p[0]]=122,t(e,u)[o+p[32]]=0,t(e,R)[i]=n-160)},()=>{let h=e.chRedir(n,r,!0);t(e,H)[i]=h,i!=h&&(e.buildRchTree(),console.info(`GMLX CH${i+1} receives from CH${h+1}`))}][a[0]]()}).add([16,0,9,4],(a,r,c)=>{let n=(a[2]<<4)+a[3],i=e.chRedir(a[1],r,!0),o=i*y.cc,h=i*y.rpn,l=`GMLX CH${i+1} `;[()=>{t(e,U)[i]=n},()=>{t(e,u)[o+p[7]]=n},()=>{t(e,u)[o+p[10]]=n},()=>{t(e,u)[o+p[91]]=n?127:0},()=>{t(e,x)[h+3]=n+40},()=>{t(e,x)[h+1]=n},()=>{t(e,x)[h]=n},()=>{}][a[0]]()}),t(this,Te).add([66,93,64],(a,r,c)=>{let n=a[2];switch(a[0]){case 0:{switch(a[1]){case 4:{E(e,O,n*129/16383*100),e.dispatchEvent("mastervolume",t(e,O));break}case 5:{n-64;break}case 6:{console.debug(`SG global reverb: ${n?"on":"off"}`);break}case 127:{e.switchMode("sg",!0);break}}break}case 1:{switch(a[1]){case 48:{console.debug(`SG reverb type: ${Je[n]}`);break}}break}default:if(a[0]>>4==1){let i=e.chRedir(a[0]&15,r,!0);if(a[1]==2){let o=e.chRedir(n,r,!0);t(e,H)[i]=o,i!=o&&(e.buildRchTree(),console.info(`SG CH${i+1} receives from CH${o+1}`))}else a[1]==19&&(t(e,u)[y.cc*i+p[7]]=n)}else console.warn(`Unknown AKAI SG SysEx: ${a}`)}}),t(this,Re).add([9],(a,r,c)=>{console.debug(`GZ set effect: ${["stage reverb","hall reverb","room reverb","chorus","tremelo","phaser","rotary speaker","enhancer","flanger","EQ"][a[0]]||"off"}`)}),t(this,W).add([127,0],(a,r,c)=>{e.switchMode("motif");let n=new Uint8Array([127,1,...a]);t(e,W).run(n,r,c)}).add([127,1,0,0],(a,r,c)=>{e.switchMode("s90es");let n="S90/Motif ES system ",i=a[0];a.subarray(1).forEach((o,h)=>{([()=>{E(e,O,o*12900/16383),e.dispatchEvent("mastervolume",t(e,O))}][i+h]||(()=>{console.info(`Unrecognized ${n}ID: ${i+h}`)}))()})}).add([127,1,0,0,14],(a,r,c)=>{e.switchMode("s90es");let n="S90/Motif ES bulk header ",i=[];i[95]=(o,h,l)=>{console.debug(`${n}multi edit buffer: ${o[1]}`)},(i[a[0]]||(()=>{console.info(`Unrecognized ${n}ID: ${a[0]}.`)}))(a.subarray(1))}).add([127,1,0,0,15],(a,r,c)=>{e.switchMode("s90es");let n="S90/Motif ES bulk footer ",i=[];i[95]=(o,h,l)=>{console.debug(`${n}multi edit buffer: ${o[1]}`)},(i[a[0]]||(()=>{console.info(`Unrecognized ${n}ID: ${a[0]}.`)}))(a.subarray(1))}).add([127,1,0,58,55],(a,r,c)=>{e.switchMode("s90es");let n=e.chRedir(a[0],r,!0),i=y.cc*n,o=a[1],h=`S90/Motif ES bulk CH${n<16?n+1:"U"+(n-95)} `;console.debug(h,a),!(a[0]>15)&&a.subarray(2).forEach((l,g)=>{([()=>{t(e,u)[i+p[0]]=l},()=>{l&&(t(e,U)[n]=1),t(e,u)[i+p[32]]=l,e.setChType(n,[32,40].indexOf(l)>-1?e.CH_DRUMS:e.CH_MELODIC,t(e,T),!0)},()=>{l&&(t(e,U)[n]=1),t(e,R)[n]=l},()=>{let $=e.chRedir(l,r,!0);t(e,H)[n]=$,n!=$&&(e.buildRchTree(),console.info(`${h}receives from CH${$+1}`))},()=>{t(e,q)[n]=l?0:1},!1,!1,!1,!1,!1,!1,!1,!1,()=>{t(e,u)[i+p[7]]=l},()=>{t(e,u)[i+p[10]]=l},!1,!1,!1,()=>{t(e,u)[i+p[91]]=l},()=>{t(e,u)[i+p[93]]=l},()=>{t(e,u)[i+p[94]]=l},()=>{t(e,u)[i+p[128]]=l},()=>{},()=>{t(e,u)[i+p[74]]=l},()=>{t(e,u)[i+p[71]]=l},!1,()=>{t(e,u)[i+p[65]]=l},()=>{t(e,u)[i+p[5]]=l},()=>{}][o+g]||(()=>{}))()})}).add([127,1,54,16],(a,r,c)=>{e.switchMode("s90es");let n=a[0];a.subarray(1).forEach((i,o)=>{let l=`S90/Motif ES EQ${(o>>2)+1} `;([()=>{let g=i-64},()=>{let g=De[i]},()=>{let g=i/10},()=>{let g=i}][n+o&3]||(()=>{}))()})}),t(this,Y).add([0,72,18,0,0,0,0],(a,r,c)=>{e.switchMode("sd",!0),console.info("MIDI reset: SD")}).add([0,72,18,16,0],(a,r,c)=>{let n=a[0]>>5,i=a[0]&31;switch(n){case 0:{console.debug(`Unknown SD-90 global effects message:
%o`,a);break}case 1:{let o=e.chRedir(i,r,!0),h=a[1],l=o*y.cc;a.subarray(2).forEach((g,$)=>{let w=h+$;w<37?([()=>{},()=>{},0,()=>{},()=>{switch(t(e,u)[l+p[0]]=g,g){case 104:case 105:case 106:case 107:case 120:{t(e,C)[o]||e.setChType(o,e.CH_DRUMS);break}default:t(e,C)[o]&&e.setChType(o,e.CH_MELODIC)}},()=>{t(e,u)[l+p[32]]=g},()=>{t(e,R)[o]=g},()=>{t(e,u)[l+p[7]]=g},()=>{t(e,u)[l+p[10]]=g},()=>{},()=>{},()=>{g<2&&(t(e,q)[o]=g)},()=>{g<2&&(t(e,u)[l+p[68]]=g?127:0)},()=>{},()=>{g<2&&(t(e,u)[l+p[65]]=g?127:0)},()=>{t(e,u)[l+p[5]]=g&15<<4|t(e,u)[l+p[5]]&15},()=>{t(e,u)[l+p[5]]=g&15|(t(e,u)[l+p[5]]&240)>>4},()=>{t(e,u)[l+p[74]]=g},()=>{t(e,u)[l+p[71]]=g},()=>{t(e,u)[l+p[73]]=g},()=>{t(e,u)[l+p[72]]=g},0,0,0,0,0,0,0,()=>{t(e,u)[l+p[128]]=g},()=>{t(e,u)[l+p[93]]=g},()=>{t(e,u)[l+p[91]]=g},0,0,()=>{t(e,u)[l+p[75]]=g},()=>{t(e,u)[l+p[76]]=g},()=>{t(e,u)[l+p[77]]=g},()=>{t(e,u)[l+p[78]]=g}][w]||(()=>{}))():w<63||(w<64?t(e,C)[o]?t(e,u)[l+p[0]]=104|g:t(e,u)[l+p[0]]=96|g:console.debug(`Unknown SD-90 global CH${o+1} param setup message:
%o`,a))});break}case 2:{let o=e.chRedir(i,r,!0),h=a[1];console.debug(`Unknown SD-90 global CH${o+1} MIDI setup message:
%o`,a.subarray(2));break}default:console.warn(`Unknown SD-90 global part setup message:
%o`,a)}})}chRedir(e,s,f){if(t(this,Ee)[s])return(t(this,Ee)[s]-1)*16+e;if([2,3].indexOf(t(this,j))>-1){if(f==1)return e;let d=0,a=!0;for(;a;)t(this,fe)[e+d]==0?(t(this,fe)[e+d]=s,console.debug(`Assign track ${s} to channel ${e+d+1}.`),a=!1):t(this,fe)[e+d]==s?a=!1:(d+=16,d>=128&&(d=0,a=!1));return e+d}else return e}buildRchTree(){let e=[];t(this,H).forEach((s,f)=>{var d;(d=e[s])!=null&&d.constructor||(e[s]=[]),e[s].push(f)}),E(this,Ke,e)}getActive(){let e=t(this,U).slice();return t(this,T)==v.mt32,e}getCc(e){let s=e*y.cc,f=t(this,u).subarray(s,s+y.cc);return f[p[0]]=f[p[0]]||t(this,ye),f[p[32]]=f[p[32]]||t(this,j),f}getCcCh(e,s){if(Xe.indexOf(s)<0)throw new Error("CC number not accepted");return t(this,u)[y.cc*e+p[s]]}getCcAll(){let e=t(this,u).slice();for(let s=0;s<y.ch;s++){let f=s*y.cc;e[f+p[0]]=e[f+p[0]]||t(this,ye),e[f+p[32]]=e[f+p[32]]||t(this,j)}return e}getChSource(){return t(this,H)}getChType(){return t(this,C)}setChType(e,s,f=t(this,T),d=!1){s&=15,t(this,C)[e]=s,s>0&&!d&&(t(this,u)[e*y.cc+p[0]]=we[f])}getPitch(){return t(this,pe)}getProgram(){return t(this,R)}getTexts(){return t(this,z).slice()}getVel(e){let s=new Map,f=this;return t(f,A).forEach(function(d,a){let r=Math.floor(d/128),c=d%128;e==r&&t(f,P)[d]>0&&s.set(c,{v:t(f,P)[d],s:t(f,N)[a]})}),s}getBitmap(){return{bitmap:t(this,Q,ce),expire:t(this,ae)}}getLetter(){return{text:t(this,ie),expire:t(this,$e)}}getMode(){return ne[t(this,T)]}getMaster(){return{volume:t(this,O)}}getRawStrength(){let e=this;return t(this,A).forEach(function(s){let f=Math.floor(s/128);t(e,P)[s]>t(e,re)[f]&&(t(e,re)[f]=t(e,P)[s])}),t(this,re)}getStrength(){let e=[],s=this;return this.getRawStrength().forEach(function(f,d){e[d]=Math.floor(f*t(s,u)[d*y.cc+p[7]]*t(s,u)[d*y.cc+p[11]]*t(s,O)/803288)}),e}getRpn(){return t(this,x)}getNrpn(){return t(this,Ue)}getVoice(e,s,f,d){let a=e||t(this,ye),r=s,c=f||t(this,j);ne[t(this,T)]=="ns5r"&&a>0&&a<56&&(c=3);let n=this.userBank.get(a,r,c,d);if(ne[t(this,T)]=="mt32"&&n.name.indexOf("MT-m:")==0){let i=parseInt(n.name.slice(5)),o=i*y.cmt,h="";t(this,ge).subarray(o,o+10).forEach(l=>{l>31&&(h+=String.fromCharCode(l))}),this.userBank.load(`MSB	LSB	PRG
0	127	${r}	${h}`,!0),n.name=h,n.ending=" "}return(n.ending!=" "||!n.name.length)&&(n=this.baseBank.get(a,r,c,d)),n}getChVoice(e){let s=this.getVoice(t(this,u)[e*y.cc+p[0]],t(this,R)[e],t(this,u)[e*y.cc+p[32]],ne[t(this,T)]);if(t(this,se)[e])switch(t(this,T)){case v.mt32:s.ending="~",s.name="",t(this,J).subarray(14*(e-1),14*(e-1)+10).forEach(f=>{f>31&&(s.name+=String.fromCharCode(f))})}return s}getPitchShift(e){let s=e*y.rpn;return t(this,pe)[e]/8192*t(this,x)[s]+(t(this,x)[s+3]-64)+((t(this,x)[s+1]<<7)+t(this,x)[s+2]-8192)/8192}getEffectType(e=0){let s=3*e+1;return t(this,V).subarray(s,s+2)}setEffectTypeRaw(e=0,s,f){let d=3*e;t(this,V)[d]=1,t(this,V)[d+1+ +s]=f}setEffectType(e=0,s,f){this.setEffectTypeRaw(e,!1,s),this.setEffectTypeRaw(e,!0,f)}getEffectSink(){return t(this,Ae)}setLetterDisplay(e,s,f=0,d=3200){let a=this,r;E(a,ie," ".repeat(f)),e.forEach(c=>{E(a,ie,t(a,ie)+String.fromCharCode(c>31?c:32)),c<32&&(r=r||new Set,r.add(c))}),E(a,$e,Date.now()+3200),E(a,ie,t(a,ie).padEnd(32," ")),r&&(r=Array.from(r),r.forEach((c,n,i)=>{i[n]=c.toString(16).padStart(2,"0")}),console.warn(`${s}${s?" ":""}invalid code point${r.length>1?"s":""}: 0x${r.join(", 0x")}`))}allocateAce(e){if(!e||e>95){console.warn(`cc${e} cannot be allocated as an active custom effect.`);return}let s=!0,f=0;for(;s&&f<y.ace;)t(this,le)[f]==e?s=!1:t(this,le)[f]||(s=!1,t(this,le)[f]=e,console.info(`Allocated cc${e} to ACE slot ${f}.`)),f++;f>=y.ace&&console.warn("ACE slots are full.")}getAce(){return t(this,le)}getChAce(e,s){if(s<0||s>=y.ace)throw new RangeError("No such ACE slot");let f=t(this,le)[s];if(f){if(Xe.indexOf(f)>=0)return t(this,u)[e*y.cc+p[f]];throw new Error(`Invalid ACE source: ${f}`)}else return 0}init(e=0){let s=this;s.dispatchEvent("mode","?"),E(s,T,0),E(s,ye,0),E(s,j,0),E(s,ke,0),t(s,U).fill(0),t(s,u).fill(0),t(s,le).fill(0),t(s,R).fill(0),t(s,P).fill(0),t(s,A).fill(0),t(s,re).fill(0),t(s,pe).fill(0),t(s,Ue).fill(0),t(s,Fe).fill(0),E(s,O,100),E(s,z,[]),E(s,Le,500),E(s,He,0),E(s,$e,0),E(s,ie,""),E(s,ae,0),E(s,K,0),t(s,Q,ce).fill(0),E(s,D,!1),E(s,Ne,0),E(s,Z,!0),t(s,H).forEach(function(f,d,a){a[d]=d}),s.buildRchTree(),e==0&&(t(s,fe).fill(0),t(s,Ee).fill(0)),t(s,u)[y.cc*9]=we[0],t(s,u)[y.cc*25]=we[0],t(s,u)[y.cc*41]=we[0],t(s,u)[y.cc*57]=we[0],t(s,C).fill(s.CH_MELODIC),t(s,C)[9]=s.CH_DRUM1,t(s,C)[25]=s.CH_DRUM3,t(s,C)[41]=s.CH_DRUMS,t(s,C)[57]=s.CH_DRUMS,t(s,C)[73]=s.CH_DRUM5,t(s,C)[89]=s.CH_DRUM7,t(s,C)[105]=s.CH_DRUMS,t(s,C)[121]=s.CH_DRUMS,t(s,Pe).fill(0),t(s,ge).fill(0),t(s,be).fill(0),t(s,J).fill(0),t(s,se).fill(0),t(s,V).fill(0),t(s,Ae).fill(0),s.aiEfxName="",s.userBank.clearRange({msb:0,lsb:127,prg:[0,127]});for(let f=0;f<y.ch;f++){let d=f*y.cc;t(s,u)[d+p[7]]=100,t(s,u)[d+p[11]]=127,t(s,u)[d+p[10]]=64,t(s,u)[d+p[71]]=64,t(s,u)[d+p[72]]=64,t(s,u)[d+p[73]]=64,t(s,u)[d+p[74]]=64,t(s,u)[d+p[75]]=64,t(s,u)[d+p[76]]=64,t(s,u)[d+p[77]]=64,t(s,u)[d+p[78]]=64,t(s,u)[d+p[91]]=40,t(s,u)[d+p[101]]=127,t(s,u)[d+p[100]]=127,t(s,u)[d+p[99]]=127,t(s,u)[d+p[98]]=127;let a=f*y.rpn;t(s,x)[a]=2,t(s,x)[a+1]=64,t(s,x)[a+2]=0,t(s,x)[a+3]=64,t(s,x)[a+4]=0,t(s,x)[a+5]=0}s.dispatchEvent("mastervolume",t(s,O)),s.dispatchEvent("efxreverb",s.getEffectType(0)),s.dispatchEvent("efxchorus",s.getEffectType(1)),s.dispatchEvent("efxdelay",s.getEffectType(2)),s.dispatchEvent("efxinsert0",s.getEffectType(3)),s.dispatchEvent("efxinsert1",s.getEffectType(4)),s.dispatchEvent("efxinsert2",s.getEffectType(5)),s.dispatchEvent("efxinsert3",s.getEffectType(6)),s.switchMode("?")}switchMode(e,s=!1){let f=this,d=ne.indexOf(e);if(d>-1){if(t(f,T)==0||s){let a=t(f,T);E(f,T,d),E(f,K,0),E(f,ye,wt[0][d]),E(f,j,wt[1][d]);for(let c=0;c<y.ch;c++)t(f,C)[c]>0&&t(f,u)[c*y.cc+p[0]]==we[a]&&(t(f,u)[c*y.cc]=we[d]);switch(f.initOnReset,d){case v.mt32:{et.forEach((c,n)=>{let i=n+1;t(f,U)[i]||(t(f,R)[i]=c,t(f,u)[i*y.cc+p[91]]=127)});break}}let r;switch(d){case v["?"]:case v.xg:{r=[1,0,65,0,5,0,0,0];break}case v.gm:case v.gs:case v.g2:case v.sd:{r=[40,4,40,18,40,32,32,0];break}case v["05rw"]:case v.x5d:case v.ns5r:{r=[44,1,44,19,44,0,44,0];break}case v.k11:case v.sg:{r=[24,0,0,0,0,0,0,0];break}case v.mt32:{r=[40,4,0,0,0,0,0,0];break}default:r=[0,0,0,0,0,0,0,0]}for(let c=0;c<4;c++)t(f,V)[3*c]||(t(f,V)[3*c+1]=r[2*c],t(f,V)[3*c+2]=r[2*c+1],f.dispatchEvent(`efx${["reverb","chorus","delay","insert"][c]}`,f.getEffectType(c)));f.dispatchEvent("mode",e)}}else throw new Error(`Unknown mode ${e}`)}newStrength(){t(this,re).fill(0)}runJson(e){var s;if(e.type>14)return e.type==15&&e.data.constructor!=Uint8Array&&(e.data=Uint8Array.from(e.data)),t(this,Ve)[e.type].call(this,e);{let f=this.chRedir(e.part,e.track),d=!1;(s=t(this,Ke)[f])==null||s.forEach(a=>{e.channel=a,d=!0,t(this,Ve)[e.type].call(this,e)}),d||console.warn(`${vt[e.type]?vt[e.type]:e.type}${[11,12].includes(e.type)?(e.data[0]!=null?e.data[0]:e.data).toString():""} event sent to CH${f+1} without any recipient.`)}t(this,z).length>100&&t(this,z).splice(100,t(this,z).length-99)}runRaw(e){}async loadBank(e,s){switch(e=e.toLowerCase(),e){case"s7e":{this.userBank.clearRange({msb:63,lsb:[21,22]}),this.userBank.clearRange({msb:63,lsb:[24,27]});break}default:throw new Error(`Unknown bank format ${e}`)}switch(e){case"s7e":{ze.context=this,this.userBank.load(await ze.read(e,s));break}}}},T=new WeakMap,K=new WeakMap,ae=new WeakMap,oe=new WeakMap,Q=new WeakSet,ce=function(){return t(this,oe)[t(this,K)]},Tt=function(e){t(this,oe)[t(this,K)]=e},U=new WeakMap,H=new WeakMap,C=new WeakMap,u=new WeakMap,le=new WeakMap,R=new WeakMap,P=new WeakMap,q=new WeakMap,A=new WeakMap,N=new WeakMap,pe=new WeakMap,re=new WeakMap,ve=new WeakMap,x=new WeakMap,Ue=new WeakMap,Fe=new WeakMap,se=new WeakMap,be=new WeakMap,J=new WeakMap,Pe=new WeakMap,ge=new WeakMap,V=new WeakMap,Ae=new WeakMap,ye=new WeakMap,j=new WeakMap,O=new WeakMap,ke=new WeakMap,Le=new WeakMap,He=new WeakMap,ie=new WeakMap,$e=new WeakMap,Ne=new WeakMap,Z=new WeakMap,D=new WeakMap,Ke=new WeakMap,rt=new WeakMap,z=new WeakMap,fe=new WeakMap,Ee=new WeakMap,G=new WeakMap,Se=new WeakMap,L=new WeakMap,Ve=new WeakMap,Qe=new WeakMap,xe=new WeakMap,Ce=new WeakMap,W=new WeakMap,Y=new WeakMap,he=new WeakMap,Me=new WeakMap,Te=new WeakMap,Re=new WeakMap,Ct);export{ka as OctaviaDevice,y as allocated,p as ccToPos,Mt as dnToPos};
